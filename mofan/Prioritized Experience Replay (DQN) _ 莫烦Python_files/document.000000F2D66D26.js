window._bannerflow.registerModule('0000007437E018',(Color)=>{const preloadAssets=[{type:'font',id:'614c7ad7d865e76c69ae4de5',value:{id:"614c7ad7d865e76c69ae4de5",src:"https://c.bannerflow.net/fs/api/v2/font?u=https%3A%2F%2Ffontmanagerstorage.blob.core.windows.net%2Ffontmanagerfonts%2F6149860e6f5e9761ca8c6cbf%2Fffc7cfbb-0977-4c1a-8687-789d9355d83a.woff&t=%0A%20.ABELMNOPRSTUWY",weight:800,style:"normal",fontFamilyId:"614c7ac5d865e76c69ae4ddf"}}];const env={FONTSERVICE_API_ORIGIN:'https://c.bannerflow.net/fs',IMAGE_OPTIMIZER_ORIGIN:'https://c.bannerflow.net/io',IN_PRODUCTION:true,FEEDS_STORAGE_ORIGIN:'https://c.bannerflow.net/sfeeds',VIDEOS_STORAGE_ORIGIN:'https://c.bannerflow.net'};const data={id:'6354def6-cd31-41ea-b8d7-3778cc02c947',kind:'creative',width:300,height:250,loops:3,startTime:0,stopTime:7,preloadImage:{frames:[0.7]},fill:Color.parse('rgba(0,0,0,1)'),elements:[{kind:'widget',id:'de68489b-9cea-4f86-9da3-fb756208a2fe',time:0,hidden:false,duration:8,animations:[],states:[],actions:[],x:0,y:0,width:300,height:250,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},html:"PGRpdiBpZD0iY29udGFpbmVyIj4KICAgIDxkaXYgaWQ9Imluc3RydWN0aW9ucyI+CiAgICAgICAgPHN0cm9uZz5WaWRlbyBwbGF5ZXI8L3N0cm9uZz48YnI+RW50ZXIgYSBVUkwgaW4gdGhlIFVSTCBwcm9wZXJ0eSBvciBzZWxlY3QgZmVlZCB3aXRoIHZpZGVvIFVSTC4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0icGxheS1wYXVzZS1vdmVybGF5IiBjbGFzcz0ic2hvdy1wbGF5Ij4KICAgICAgICA8c3ZnIGNsYXNzPSJwYXVzZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2NDBweCIgaGVpZ2h0PSI2NDBweCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0MCA2NDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+CiAgICAgICAgICAgICAgICA8cmVjdCB4PSItODAiCiAgICAgICAgICAgICAgICAgICAgICAgIHk9Ii04MCIKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheT0ibm9uZSIKICAgICAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPSIjMDAwMDAwIgogICAgICAgICAgICAgICAgICAgICAgICBzdHJva2UtbWl0ZXJsaW1pdD0iMTAiCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPSI4MDAiIAogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9IjgwMCIgLz4gCiAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICBkPSJNNTQ2LjI3Myw5My43MjZDNDg1LjgzNCwzMy4yODYsNDA1LjQ3NiwwLDMyMCwwQzIzNC41MjUsMCwxNTQuMTY2LDMzLjI4Niw5My43MjYsOTMuNzI2UzAsMjM0LjUyNSwwLDMyMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgYzAsODUuNDc2LDMzLjI4NiwxNjUuODM0LDkzLjcyNiwyMjYuMjczQzE1NC4xNjYsNjA2LjcxNCwyMzQuNTI0LDY0MCwzMjAsNjQwczE2NS44MzUtMzMuMjg2LDIyNi4yNzMtOTMuNzI3CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBDNjA2LjcxNCw0ODUuODM1LDY0MCw0MDUuNDc2LDY0MCwzMjBTNjA2LjcxNCwxNTQuMTY2LDU0Ni4yNzMsOTMuNzI2eiBNMzIwLDU4MkMxNzUuNTMzLDU4Miw1OCw0NjQuNDY3LDU4LDMyMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgQzU4LDE3NS41MzMsMTc1LjUzMyw1OCwzMjAsNThjMTQ0LjQ2NywwLDI2MiwxMTcuNTMzLDI2MiwyNjJDNTgyLDQ2NC40NjcsNDY0LjQ2Nyw1ODIsMzIwLDU4MnoiIC8+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBkaXNwbGF5PSJub25lIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsbD0iI0ZGRkZGRiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50cz0iMjQzLjI4OSwzMjAgMjQzLjI4OSwxODguNjk4IDM1NywyNTQuMzUgNDcwLjcxMSwzMjAgMzU3LDM4NS42NTEgMjQzLjI4OSw0NTEuMzAyIiAvPgogICAgICAgICAgICAgICAgPGc+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0iMzc1IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgeT0iMTkyLjg1NCIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9IiNGRkZGRkYiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD0iNTIuNDg2IgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaGVpZ2h0PSIyNTQuMjkxIiAvPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjIxNSIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk9IjE5Mi44NTQiCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg9IjUyLjQ4NiIKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD0iMjU0LjI5MSIgLz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvc3ZnPgogICAgICAgIAogICAgICAgIDxzdmcgY2xhc3M9InBsYXkiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayIgeD0iMHB4IiB5PSIwcHgiIHdpZHRoPSI2NDBweCIgaGVpZ2h0PSI2NDBweCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0MCA2NDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+CiAgICAgICAgICAgICAgICA8cmVjdCB4PSItODAiCiAgICAgICAgICAgICAgICAgICAgeT0iLTgwIgogICAgICAgICAgICAgICAgICAgIGRpc3BsYXk9Im5vbmUiCiAgICAgICAgICAgICAgICAgICAgc3Ryb2tlPSIjMDAwMDAwIgogICAgICAgICAgICAgICAgICAgIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIKICAgICAgICAgICAgICAgICAgICB3aWR0aD0iODAwIgogICAgICAgICAgICAgICAgICAgIGhlaWdodD0iODAwIiAvPgogICAgICAgICAgICAgICAgPHBhdGggZmlsbD0iI0ZGRkZGRiIKICAgICAgICAgICAgICAgICAgICBkPSJNNTQ2LjI3Myw5My43MjZDNDg1LjgzNCwzMy4yODYsNDA1LjQ3NiwwLDMyMCwwQzIzNC41MjUsMCwxNTQuMTY2LDMzLjI4Niw5My43MjYsOTMuNzI2UzAsMjM0LjUyNSwwLDMyMAogICAgICAgICAgICAgICAgICAgICAgICBjMCw4NS40NzYsMzMuMjg2LDE2NS44MzQsOTMuNzI2LDIyNi4yNzNDMTU0LjE2Niw2MDYuNzE0LDIzNC41MjQsNjQwLDMyMCw2NDBzMTY1LjgzNS0zMy4yODYsMjI2LjI3My05My43MjcKICAgICAgICAgICAgICAgICAgICAgICAgQzYwNi43MTQsNDg1LjgzNSw2NDAsNDA1LjQ3Niw2NDAsMzIwUzYwNi43MTQsMTU0LjE2Niw1NDYuMjczLDkzLjcyNnogTTMyMCw1ODJDMTc1LjUzMyw1ODIsNTgsNDY0LjQ2Nyw1OCwzMjAKICAgICAgICAgICAgICAgICAgICAgICAgQzU4LDE3NS41MzMsMTc1LjUzMyw1OCwzMjAsNThjMTQ0LjQ2NywwLDI2MiwxMTcuNTMzLDI2MiwyNjJDNTgyLDQ2NC40NjcsNDY0LjQ2Nyw1ODIsMzIwLDU4MnoiIC8+CiAgICAgICAgICAgICAgICA8cG9seWdvbiBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICBwb2ludHM9IjI0My4yODksMzIwIDI0My4yODksMTg4LjY5OCAzNTcsMjU0LjM1IDQ3MC43MTEsMzIwIDM1NywzODUuNjUxIDI0My4yODksNDUxLjMwMiIgLz4KICAgICAgICAgICAgICAgIDxnIGRpc3BsYXk9Im5vbmUiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IHg9IjM3NSIKICAgICAgICAgICAgICAgICAgICAgICAgeT0iMTkyLjg1NCIKICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheT0iaW5saW5lIgogICAgICAgICAgICAgICAgICAgICAgICBmaWxsPSIjRkZGRkZGIgogICAgICAgICAgICAgICAgICAgICAgICB3aWR0aD0iNTIuNDg2IgogICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ9IjI1NC4yOTEiIC8+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgeD0iMjE1IgogICAgICAgICAgICAgICAgICAgICAgICB5PSIxOTIuODU0IgogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5PSJpbmxpbmUiCiAgICAgICAgICAgICAgICAgICAgICAgIGZpbGw9IiNGRkZGRkYiCiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoPSI1Mi40ODYiCiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodD0iMjU0LjI5MSIgLz4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMiIgCiAgICAgICAgICAgIGRpc3BsYXk9Im5vbmUiPjwvZz4KICAgICAgICA8L3N2Zz4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0idmlkZW8tY29udHJvbHMiPgogICAgICAgIDxkaXYgaWQ9InBsYXliYWNrIiBjbGFzcz0iaXNQYXVzZWQiPgogICAgICAgICAgICA8c3ZnIGNsYXNzPSJpY29uLXBhdXNlIiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgNjQwIDY0MCIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgNjQwIDY0MCIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iTGF5ZXJfMSI+PHJlY3QgeD0iLTgwIiB5PSItODAiIGRpc3BsYXk9Im5vbmUiIHN0cm9rZT0iIzAwMDAwMCIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIiB3aWR0aD0iODAwIiBoZWlnaHQ9IjgwMCIvPjxnPjxyZWN0IHg9IjM3NSIgeT0iMTkyLjg1NCIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUyLjQ4NiIgaGVpZ2h0PSIyNTQuMjkxIi8+PHJlY3QgeD0iMjE1IiB5PSIxOTIuODU0IiBmaWxsPSIjRkZGRkZGIiB3aWR0aD0iNTIuNDg2IiBoZWlnaHQ9IjI1NC4yOTEiLz48L2c+PC9nPjxnIGlkPSJMYXllcl8yIiBkaXNwbGF5PSJub25lIj48L2c+PC9zdmc+CiAgICAgICAgICAgIDxzdmcgY2xhc3M9Imljb24tcGxheSIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDY0MCA2NDAiIGVuYWJsZS1iYWNrZ3JvdW5kPSJuZXcgMCAwIDY0MCA2NDAiIHhtbDpzcGFjZT0icHJlc2VydmUiPgogICAgICAgICAgICAgICAgPGcgaWQ9IkxheWVyXzEiPjxyZWN0IHg9Ii04MCIgeT0iLTgwIiBkaXNwbGF5PSJub25lIiBzdHJva2U9IiMwMDAwMDAiIHN0cm9rZS1taXRlcmxpbWl0PSIxMCIgd2lkdGg9IjgwMCIgaGVpZ2h0PSI4MDAiLz48cG9seWdvbiBmaWxsPSIjRkZGRkZGIiBwb2ludHM9IjI0My4yODksMzIwIDI0My4yODksMTg4LjY5OCAzNTcsMjU0LjM1IDQ3MC43MTEsMzIwIDM1NywzODUuNjUxIDI0My4yODksNDUxLjMwMiAiLz48ZyBkaXNwbGF5PSJub25lIj48cmVjdCB4PSIzNzUiIHk9IjE5Mi44NTQiIGRpc3BsYXk9ImlubGluZSIgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjUyLjQ4NiIgaGVpZ2h0PSIyNTQuMjkxIi8+PHJlY3QgeD0iMjE1IiB5PSIxOTIuODU0IiBkaXNwbGF5PSJpbmxpbmUiIGZpbGw9IiNGRkZGRkYiIHdpZHRoPSI1Mi40ODYiIGhlaWdodD0iMjU0LjI5MSIvPjwvZz48L2c+PGcgaWQ9IkxheWVyXzIiIGRpc3BsYXk9Im5vbmUiPjwvZz4KICAgICAgICAgICAgPC9zdmc+CiAgICAgICAgPC9kaXY+CiAgICAgICAgPGRpdiBpZD0icHJvZ3Jlc3MtYmFyIj4KICAgICAgICAgICAgPHNwYW4gaWQ9InByb2dyZXNzLXRpbWVyIj48L3NwYW4+CiAgICAgICAgICAgIDxkaXYgaWQ9InByb2dyZXNzIj4KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJidWZmZXJCYXIiPjwvc3Bhbj4KICAgICAgICAgICAgICAgIDxzcGFuIGlkPSJ0aW1lQmFyIj48L3NwYW4+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9InZvbHVtZSI+CiAgICAgICAgICAgIDxzcGFuIGlkPSJ2b2x1bWUtaWNvbiIgY2xhc3M9InVubXV0ZWQiPgogICAgICAgICAgICAgICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii0xMDAgLTAgMTAwMCAxMDAwIiBjbGFzcz0idW5tdXRlZCI+CiAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA4MTkpIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMjYgNDQxbDI1MiAxODloNjN2LTYzMGgtNjNsLTI1MiAxODloLTEyNnYyNTJoMTI2ek01MzEgNDA1di0xYzI0IC0yNyAzNiAtNTggMzYgLTkwcy0xMiAtNjQgLTM2IC04OWMtMTUgLTE1IC0zMyAtMTEgLTQ0IDFzLTE2IDMwIC0xIDQ1YzI1IDI0IDI1IDY0IDAgODhjLTE1IDE1IC0xMCAzMyAxIDQ1czI5IDE2IDQ0IDF6TTYxOSA0OTJ2LTNjNTEgLTUxIDc0IC0xMTAgNzQgLTE3OHMtMjMgLTEyNyAtNzQgLTE3OCBjLTEzIC0xNSAtMzIgLTExIC00MyAwcy0xNiAzMCAtMSA0NWMzOCAzOSA1NSA4MyA1NSAxMzRzLTE3IDk1IC01NSAxMzRjLTE1IDE1IC0xMCAzNCAxIDQ1czMwIDE0IDQzIDF6TTcwOSA1Nzl2NGM3NCAtNzggMTEwIC0xNjYgMTEwIC0yNjhzLTM2IC0xOTAgLTExMCAtMjY4Yy0xNSAtMTUgLTMzIC0xMSAtNDQgMHMtMTYgMzAgLTEgNDVjNjQgNjQgOTMgMTM3IDkzIDIyMXMtMjkgMTU3IC05MyAyMjFjLTE1IDE1IC0xMCAzNCAxIDQ1IHMyOSAxNSA0NCAweiIvPjwvZz4KICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICAgICAgPHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB2ZXJzaW9uPSIxLjEiIHZpZXdCb3g9Ii0xMDAgLTAgMTAwMCAxMDAwIiBjbGFzcz0ibXV0ZWQiPgogICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgODE5KSI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTI2IDQ0MWwyNTIgMTg5aDYzdi02MzBoLTYzbC0yNTIgMTg5aC0xMjZ2MjUyaDEyNnpNODUxIDQxMGwtOTUgLTk1bDk1IC05NGwtNjMgLTYzbC05NSA5NGwtOTQgLTk0bC02MyA2M2w5NCA5NGwtOTQgOTVsNjMgNjNsOTQgLTk1bDk1IDk1eiIvPjwvZz4KICAgICAgICAgICAgICAgIDwvc3ZnPgogICAgICAgICAgICA8L3NwYW4+CiAgICAgICAgICAgIDxkaXYgaWQ9InZvbHVtZS1jb250cm9sbGVyIj4KICAgICAgICAgICAgICAgIDxkaXYgaWQ9InZvbHVtZS12YWx1ZSI+PC9kaXY+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxkaXYgaWQ9ImZ1bGxzY3JlZW4iPgogICAgICAgICAgICA8c3ZnIHZpZXdCb3g9IjAgMCAxNzkyIDE3OTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICAgICAgICAgICAgICA8cGF0aCBkPSJNMTQxMSA1NDFsLTM1NSAzNTUgMzU1IDM1NSAxNDQtMTQ0cTI5LTMxIDcwLTE0IDM5IDE3IDM5IDU5djQ0OHEwIDI2LTE5IDQ1dC00NSAxOWgtNDQ4cS00MiAwLTU5LTQwLTE3LTM5IDE0LTY5bDE0NC0xNDQtMzU1LTM1NS0zNTUgMzU1IDE0NCAxNDRxMzEgMzAgMTQgNjktMTcgNDAtNTkgNDBoLTQ0OHEtMjYgMC00NS0xOXQtMTktNDV2LTQ0OHEwLTQyIDQwLTU5IDM5LTE3IDY5IDE0bDE0NCAxNDQgMzU1LTM1NS0zNTUtMzU1LTE0NCAxNDRxLTE5IDE5LTQ1IDE5LTEyIDAtMjQtNS00MC0xNy00MC01OXYtNDQ4cTAtMjYgMTktNDV0NDUtMTloNDQ4cTQyIDAgNTkgNDAgMTcgMzktMTQgNjlsLTE0NCAxNDQgMzU1IDM1NSAzNTUtMzU1LTE0NC0xNDRxLTMxLTMwLTE0LTY5IDE3LTQwIDU5LTQwaDQ0OHEyNiAwIDQ1IDE5dDE5IDQ1djQ0OHEwIDQyLTM5IDU5LTEzIDUtMjUgNS0yNiAwLTQ1LTE5eiIgZmlsbD0iI2ZmZiIvPgogICAgICAgICAgICA8L3N2Zz4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgogICAgPGRpdiBpZD0icG9zdGVyIj48L2Rpdj4KICAgIDxzcGFuIGlkPSJ2b2x1bWVUb2dnbGUiIGNsYXNzPSJ1bm11dGVkIj4KICAgICAgICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwMCAtMCAxMDAwIDEwMDAiIGNsYXNzPSJ1bm11dGVkIj4KICAgICAgICAgICAgPGcgdHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLTEgMCA4MTkpIj48cGF0aCBmaWxsPSJjdXJyZW50Q29sb3IiIGQ9Ik0xMjYgNDQxbDI1MiAxODloNjN2LTYzMGgtNjNsLTI1MiAxODloLTEyNnYyNTJoMTI2ek01MzEgNDA1di0xYzI0IC0yNyAzNiAtNTggMzYgLTkwcy0xMiAtNjQgLTM2IC04OWMtMTUgLTE1IC0zMyAtMTEgLTQ0IDFzLTE2IDMwIC0xIDQ1YzI1IDI0IDI1IDY0IDAgODhjLTE1IDE1IC0xMCAzMyAxIDQ1czI5IDE2IDQ0IDF6TTYxOSA0OTJ2LTNjNTEgLTUxIDc0IC0xMTAgNzQgLTE3OHMtMjMgLTEyNyAtNzQgLTE3OCBjLTEzIC0xNSAtMzIgLTExIC00MyAwcy0xNiAzMCAtMSA0NWMzOCAzOSA1NSA4MyA1NSAxMzRzLTE3IDk1IC01NSAxMzRjLTE1IDE1IC0xMCAzNCAxIDQ1czMwIDE0IDQzIDF6TTcwOSA1Nzl2NGM3NCAtNzggMTEwIC0xNjYgMTEwIC0yNjhzLTM2IC0xOTAgLTExMCAtMjY4Yy0xNSAtMTUgLTMzIC0xMSAtNDQgMHMtMTYgMzAgLTEgNDVjNjQgNjQgOTMgMTM3IDkzIDIyMXMtMjkgMTU3IC05MyAyMjFjLTE1IDE1IC0xMCAzNCAxIDQ1IHMyOSAxNSA0NCAweiIvPjwvZz4KICAgICAgICA8L3N2Zz4KICAgICAgICA8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHZlcnNpb249IjEuMSIgdmlld0JveD0iLTEwMCAtMCAxMDAwIDEwMDAiIGNsYXNzPSJtdXRlZCI+CiAgICAgICAgICAgIDxnIHRyYW5zZm9ybT0ibWF0cml4KDEgMCAwIC0xIDAgODE5KSI+PHBhdGggZmlsbD0iY3VycmVudENvbG9yIiBkPSJNMTI2IDQ0MWwyNTIgMTg5aDYzdi02MzBoLTYzbC0yNTIgMTg5aC0xMjZ2MjUyaDEyNnpNODUxIDQxMGwtOTUgLTk1bDk1IC05NGwtNjMgLTYzbC05NSA5NGwtOTQgLTk0bC02MyA2M2w5NCA5NGwtOTQgOTVsNjMgNjNsOTQgLTk1bDk1IDk1eiIvPjwvZz4KICAgICAgICA8L3N2Zz4KICAgIDwvc3Bhbj4KICAgIDxkaXYgY2xhc3M9InZpZGVvLWhvbGRlciI+PC9kaXY+CjwvZGl2Pg==",css:"KiB7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKfQoKaHRtbCB7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKfQoKI2NvbnRhaW5lciB7CiAgb3BhY2l0eTogMDsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgZm9udC1mYW1pbHk6ICdIZWx2ZXRpY2EnLCAnQXJpYWwnLCBzYW5zLXNlcmlmOwogIGZvbnQtc2l6ZTogMTZweDsKfQoKLnZpZGVvLWhvbGRlciB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93OiBoaWRkZW47CiAgcG9zaXRpb246IHJlbGF0aXZlOwp9Ci52aWRlby1ob2xkZXIgdmlkZW8jdmlkZW8tcGxheWVyIHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7CiAgY3Vyc29yOiBwb2ludGVyOwp9Ci52aWRlby1ob2xkZXIgdmlkZW8jdmlkZW8tcGxheWVyLmNvdmVyIHsKICB3aWR0aDogYXV0bzsKICBsZWZ0OiA1MCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogNTAlOwogIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIC01MCUpOwp9Ci52aWRlby1ob2xkZXIgdmlkZW8jdmlkZW8tcGxheWVyLmNvdmVyLXggewogIHdpZHRoOiBhdXRvOwogIGhlaWdodDogMTAwJTsKfQoudmlkZW8taG9sZGVyIHZpZGVvI3ZpZGVvLXBsYXllci5jb3Zlci15IHsKICB3aWR0aDogMTAwJTsKICBoZWlnaHQ6IGF1dG87Cn0KI3Bvc3RlciB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBkaXNwbGF5OiBmbGV4OwogIGp1c3RpZnktY29udGVudDogY2VudGVyOwogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgcG9pbnRlci1ldmVudHM6IG5vbmU7CiAgei1pbmRleDogMTsKICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7CiAgYmFja2dyb3VuZC1zaXplOiBjb250YWluOwp9CiNwb3N0ZXIuY292ZXIgewogIGJhY2tncm91bmQtc2l6ZTogY292ZXI7Cn0KLmltYWdlR2VuZXJhdG9yTW9kZSAjcGxheS1wYXVzZS1vdmVybGF5LAouaW1hZ2VHZW5lcmF0b3JNb2RlICN2aWRlby1jb250cm9scyB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CiNjb250YWluZXI6aG92ZXIgI3ZpZGVvLWNvbnRyb2xzIHsKICBvcGFjaXR5OiAxOwp9CiNjb250YWluZXIuaXNQYXVzZWQgI3ZpZGVvLWNvbnRyb2xzIHsKICBvcGFjaXR5OiAxOwp9CiNwbGF5LXBhdXNlLW92ZXJsYXkgewogIGRpc3BsYXk6IG5vbmU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICB6LWluZGV4OiAyOwogIGN1cnNvcjogcG9pbnRlcjsKICBvcGFjaXR5OiAxOwogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlLWluLW91dDsKfQojcGxheS1wYXVzZS1vdmVybGF5LnNob3cgewogIGRpc3BsYXk6IGJsb2NrOwp9CiNwbGF5LXBhdXNlLW92ZXJsYXkuaGlkZSB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CiNwbGF5LXBhdXNlLW92ZXJsYXkuc2hvdy1wYXVzZSAucGF1c2UgewogIGRpc3BsYXk6IGJsb2NrOwp9CiNwbGF5LXBhdXNlLW92ZXJsYXkuc2hvdy1wbGF5IC5wbGF5IHsKICBkaXNwbGF5OiBibG9jazsKfQojcGxheS1wYXVzZS1vdmVybGF5IHN2ZyB7CiAgZGlzcGxheTogbm9uZTsKICB3aWR0aDogNDAlOwogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBsZWZ0OiA1MCU7CiAgdG9wOiA1MCU7CiAgaGVpZ2h0OiBhdXRvOwogIG9wYWNpdHk6IDAuNTsKICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsKICBmaWxsOiByZ2JhKDI1NSwyNTUsMjU1LDAuNSk7CiAgc3Ryb2tlOiByZ2JhKDAsMCwwLDAuNyk7CiAgc3Ryb2tlLXdpZHRoOiAxcHg7CiAgcGFkZGluZzogMnB4OwogIHRyYW5zaXRpb246IG9wYWNpdHkgMC4ycyBlYXNlLWluLW91dDsKfQojcGxheS1wYXVzZS1vdmVybGF5IHN2ZyAqIHsKICBmaWxsOiBpbmhlcml0Owp9CiNwbGF5LXBhdXNlLW92ZXJsYXkgc3ZnOmhvdmVyIHsKICBvcGFjaXR5OiAxICFpbXBvcnRhbnQ7Cn0KI3ZpZGVvLWNvbnRyb2xzIHsKICB3aWR0aDogMTAwJTsKICBiYWNrZ3JvdW5kOiByZ2JhKDAsMCwwLDAuNSk7CiAgY29sb3I6ICNmZmY7CiAgcG9zaXRpb246IGFic29sdXRlOwogIGJvdHRvbTogMHB4OwogIG9wYWNpdHk6IDA7CiAgdXNlci1zZWxlY3Q6IG5vbmU7CiAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjJzIGVhc2UtaW4tb3V0OwogIGRpc3BsYXk6IG5vbmU7CiAgei1pbmRleDogMzsKfQojdmlkZW8tY29udHJvbHMuc2hvdyB7CiAgZGlzcGxheTogZmxleDsKfQojdmlkZW8tY29udHJvbHMgPmRpdjpub3QoI3Byb2dyZXNzKSB7CiAgZmxvYXQ6IGxlZnQ7CiAgd2lkdGg6IDI1cHg7CiAgaGVpZ2h0OiAzMHB4OwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgdGV4dC1hbGlnbjogY2VudGVyOwp9CiN2aWRlby1jb250cm9scyA+ZGl2OmJlZm9yZSB7CiAgY29udGVudDogJyc7CiAgZGlzcGxheTogaW5saW5lLWJsb2NrOwogIGhlaWdodDogMTAwJTsKICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlOwp9CiN2aWRlby1jb250cm9scyBzdmcgewogIHdpZHRoOiAyNXB4OwogIGhlaWdodDogMjVweDsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICBjdXJzb3I6IHBvaW50ZXI7CiAgZmlsbDogI2ZmZjsKfQojcGxheWJhY2sgewogIHdpZHRoOiAzMHB4ICFpbXBvcnRhbnQ7Cn0KI3BsYXliYWNrLmlzUGF1c2VkIC5pY29uLXBsYXkgewogIGRpc3BsYXk6IGlubGluZS1ibG9jazsKfQojcGxheWJhY2suaXNQbGF5aW5nIC5pY29uLXBhdXNlIHsKICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7Cn0KI3BsYXliYWNrIC5pY29uLXBhdXNlIHsKICBkaXNwbGF5OiBub25lOwp9CiNwbGF5YmFjayAuaWNvbi1wbGF5IHsKICBkaXNwbGF5OiBub25lOwp9CiNwcm9ncmVzcy1iYXIgewogIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKICBmbGV4LWdyb3c6IDU7CiAgbWFyZ2luLXJpZ2h0OiAxMHB4Owp9CiNwcm9ncmVzcy1iYXIgI3Byb2dyZXNzLXRpbWVyIHsKICB3aWR0aDogODdweDsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZm9udC1zaXplOiAxMXB4OwogIHBhZGRpbmctcmlnaHQ6IDVweDsKfQojcHJvZ3Jlc3MtYmFyICNwcm9ncmVzcyB7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiA3cHg7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGN1cnNvcjogcG9pbnRlcjsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuNCk7CiAgYm9yZGVyLXJhZGl1czogMTBweDsKfQojcHJvZ3Jlc3MtYmFyICNwcm9ncmVzcyBzcGFuIHsKICBoZWlnaHQ6IDEwMCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIGRpc3BsYXk6IGJsb2NrOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KI3Byb2dyZXNzLWJhciAjcHJvZ3Jlc3MgI3RpbWVCYXIgewogIHotaW5kZXg6IDEwOwogIHdpZHRoOiAwOwogIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTsKICBoZWlnaHQ6IDEwMCU7CiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTsKICB0cmFuc2l0aW9uOiB3aWR0aCAwLjFzOwp9CiNwcm9ncmVzcy1iYXIgI3Byb2dyZXNzICNidWZmZXJCYXIgewogIHotaW5kZXg6IDU7CiAgd2lkdGg6IDA7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjIpOwp9CiN2b2x1bWUgewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBmbGV4LWdyb3c6IDE7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgZGlzcGxheTogZmxleDsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGZsZXgtZGlyZWN0aW9uOiByb3c7CiAgbWFyZ2luLXJpZ2h0OiA1cHg7Cn0KI3ZvbHVtZS5tb2JpbGUtdm9sdW1lIHsKICBmbGV4LWdyb3c6IDA7Cn0KI3ZvbHVtZSAjdm9sdW1lLXZhbHVlIHsKICB6LWluZGV4OiAxMDsKICB3aWR0aDogMDsKICBiYWNrZ3JvdW5kOiByZ2JhKDI1NSwyNTUsMjU1LDAuOCk7CiAgaGVpZ2h0OiAxMDAlOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgdHJhbnNpdGlvbjogd2lkdGggMC4yczsKICBib3JkZXItcmFkaXVzOiAxMHB4Owp9CiN2b2x1bWUgI3ZvbHVtZS1pY29uIHsKICB3aWR0aDogMjVweDsKICBmbG9hdDogbGVmdDsKICBtYXJnaW4tcmlnaHQ6IDNweDsKfQojdm9sdW1lICN2b2x1bWUtY29udHJvbGxlciB7CiAgd2lkdGg6IDgwJTsKICBoZWlnaHQ6IDdweDsKICBmbG9hdDogbGVmdDsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgY3Vyc29yOiBwb2ludGVyOwogIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7CiAgYmFja2dyb3VuZDogcmdiYSgyNTUsMjU1LDI1NSwwLjQpOwogIGJvcmRlci1yYWRpdXM6IDEwcHg7Cn0KI3ZvbHVtZSAjdm9sdW1lLWljb24gc3ZnIHsKICBkaXNwbGF5OiBub25lOwogIHdpZHRoOiAyMHB4OwogIGhlaWdodDogMjBweDsKfQojdm9sdW1lICN2b2x1bWUtaWNvbi5tdXRlZCBzdmcubXV0ZWQgewogIGRpc3BsYXk6IGJsb2NrOwp9CiN2b2x1bWUgI3ZvbHVtZS1pY29uLnVubXV0ZWQgc3ZnLnVubXV0ZWQgewogIGRpc3BsYXk6IGJsb2NrOwp9CiNmdWxsc2NyZWVuIHsKICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CiNmdWxsc2NyZWVuIHN2ZyB7CiAgd2lkdGg6IDE0cHg7CiAgbWFyZ2luLXJpZ2h0OiAzcHg7Cn0KI3ZvbHVtZVRvZ2dsZSB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDQ7CiAgd2lkdGg6IDEwJTsKICBoZWlnaHQ6IDEwJTsKICBjdXJzb3I6IHBvaW50ZXI7Cn0KI3ZvbHVtZVRvZ2dsZS5tdXRlZCBzdmcubXV0ZWQgewogIGRpc3BsYXk6IGJsb2NrOwp9CiN2b2x1bWVUb2dnbGUudW5tdXRlZCBzdmcudW5tdXRlZCB7CiAgZGlzcGxheTogYmxvY2s7Cn0KI3ZvbHVtZVRvZ2dsZSBzdmcgewogIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICBkaXNwbGF5OiBub25lOwogIHRvcDogMDsKICBsZWZ0OiAwOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBmaWxsOiAjZmZmOwp9CiN2b2x1bWVUb2dnbGUgc3ZnICogewogIGZpbGw6IGluaGVyaXQ7Cn0KQG1lZGlhIChtYXgtd2lkdGg6IDI5MHB4KSB7CiAgI3Byb2dyZXNzLXRpbWVyIHsKICAgIGRpc3BsYXk6IG5vbmU7CiAgfQp9CkBtZWRpYSAobWF4LXdpZHRoOiAyMDBweCkgewogICN2aWRlby1jb250cm9scyAjdm9sdW1lLWljb24gewogICAgd2lkdGg6IGF1dG87CiAgfQogICN2aWRlby1jb250cm9scyAjdm9sdW1lLWNvbnRyb2xsZXIgewogICAgZGlzcGxheTogbm9uZTsKICB9Cn0KI2luc3RydWN0aW9ucyB7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDk5OwogIGRpc3BsYXk6IG5vbmU7CiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogIHdpZHRoOiAxMDAlOwogIGhlaWdodDogMTAwJTsKICBwYWRkaW5nOiAxNXB4OwogIGZvbnQtc2l6ZTogMC45cmVtOwogIGNvbG9yOiAjZjdmN2Y3OwogIHRleHQtYWxpZ246IGNlbnRlcjsKICB2ZXJ0aWNhbC1hbGlnbjogY2VudGVyOwogIGJhY2tncm91bmQ6ICMzNjM2MzY7Cn0KCiNpbnN0cnVjdGlvbnMgc3Ryb25nIHsKICBmb250LXNpemU6IDEuMXJlbTsKfQoKI2luc3RydWN0aW9ucy5zaG93IHsKICBkaXNwbGF5OiBmbGV4Owp9Cgp2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scy1mdWxsc2NyZWVuLWJ1dHRvbiB7CiAgZGlzcGxheTogbm9uZTsKfQp2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scyB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50Owp9CnZpZGVvOjotd2Via2l0LW1lZGlhLWNvbnRyb2xzLXN0YXJ0LXBsYXliYWNrLWJ1dHRvbiB7CiAgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OwogIC13ZWJraXQtYXBwZWFyYW5jZTogbm9uZTsKfQp2aWRlbzo6LWludGVybmFsLW1lZGlhLWNvbnRyb2xzLWRvd25sb2FkLWJ1dHRvbiB7CiAgZGlzcGxheTogbm9uZTsKfQp2aWRlbzo6LXdlYmtpdC1tZWRpYS1jb250cm9scy1lbmNsb3N1cmUgewogIG92ZXJmbG93OiBoaWRkZW47Cn0KdmlkZW86Oi13ZWJraXQtbWVkaWEtY29udHJvbHMtcGFuZWwgewogIHdpZHRoOiBjYWxjKDEwMCUgKyAzMHB4KTsgLyogQWRqdXN0IGFzIG5lZWRlZCAqLwp9",js:"dmFyIF9fYXdhaXRlciA9ICh0aGlzICYmIHRoaXMuX19hd2FpdGVyKSB8fCBmdW5jdGlvbiAodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7DQogICAgZnVuY3Rpb24gYWRvcHQodmFsdWUpIHsgcmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUCA/IHZhbHVlIDogbmV3IFAoZnVuY3Rpb24gKHJlc29sdmUpIHsgcmVzb2x2ZSh2YWx1ZSk7IH0pOyB9DQogICAgcmV0dXJuIG5ldyAoUCB8fCAoUCA9IFByb21pc2UpKShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7DQogICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH0NCiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbInRocm93Il0odmFsdWUpKTsgfSBjYXRjaCAoZSkgeyByZWplY3QoZSk7IH0gfQ0KICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IGFkb3B0KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfQ0KICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7DQogICAgfSk7DQp9Ow0KV2lkZ2V0Lm1vdXNlSW50ZXJhY3Rpb25zID0gdHJ1ZTsNCmxldCB2aWRlbzsNCmxldCBmaXJzdFBsYXlUaHJvdWdoID0gdHJ1ZTsNCmNvbnN0IHZpZGVvRWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy52aWRlby1ob2xkZXInKTsNCmNvbnN0IHZpZGVvU2V0dGluZ3MgPSB7fTsNCmxldCBoYXNTdG9wcGVkID0gZmFsc2U7DQpsZXQgbXV0ZWRTdGF0ZSA9IHRydWU7DQpsZXQgdXNlckluaXRpYXRlZFBhdXNlID0gZmFsc2U7DQpjb25zdCBpbnN0cnVjdGlvbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zdHJ1Y3Rpb25zJyk7DQpjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJyk7DQpsZXQgZmVlZCwgZmVlZFVybDsNCmxldCBmZWVkSXRlcmF0aW9uSW5kZXggPSAwOw0KbGV0IGxvY2FsVXJsOw0KLyoNCioqIEJhbm5lcmZsb3cgZXZlbnRzDQoqLw0KbGV0IHByb21pc2VSZXNvbHZlcjsNCldpZGdldC5pc0xvYWRlZFByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHsNCiAgICBwcm9taXNlUmVzb2x2ZXIgPSByZXNvbHZlOw0KfSk7DQp0cnkgew0KICAgIChmdW5jdGlvbiAoKSB7DQogICAgICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7DQogICAgICAgICAgICB5aWVsZCBzZXRTZXR0aW5ncygpOw0KICAgICAgICAgICAgY3JlYXRlVmlkZW8oKTsNCiAgICAgICAgfSk7DQogICAgfSkoKTsNCn0NCmNhdGNoIChlKSB7DQogICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnKSB7DQogICAgICAgIGNvbnNvbGUubG9nKCdpbml0aWFsaXphdGlvbiBlcnJvciBpbiBjYXRjaDogJywgZSk7DQogICAgfQ0KfQ0KZnVuY3Rpb24gY3JlYXRlVmlkZW8oKSB7DQogICAgaWYgKCF2aWRlbykgew0KICAgICAgICB2aWRlbyA9IG5ldyBCRlZpZGVvKHZpZGVvRWxlbSwgdmlkZW9TZXR0aW5ncywgVmlkZW9UcmFja2luZyk7DQogICAgfQ0KfQ0KZnVuY3Rpb24gc2V0U2V0dGluZ3MoKSB7DQogICAgdmFyIF9hOw0KICAgIHJldHVybiBfX2F3YWl0ZXIodGhpcywgdm9pZCAwLCB2b2lkIDAsIGZ1bmN0aW9uKiAoKSB7DQogICAgICAgIGNvbnN0IHNldHRpbmdzID0gV2lkZ2V0LnByb3BlcnRpZXM7DQogICAgICAgIGZvciAobGV0IGF0dHJuYW1lIGluIHNldHRpbmdzKSB7DQogICAgICAgICAgICB2aWRlb1NldHRpbmdzW2F0dHJuYW1lXSA9IHNldHRpbmdzW2F0dHJuYW1lXTsNCiAgICAgICAgfQ0KICAgICAgICBsZXQgZmVlZEZpZWxkTmFtZSA9IFdpZGdldC5wcm9wZXJ0aWVzLmZlZWRGaWVsZDsNCiAgICAgICAgaWYgKFdpZGdldC5wcm9wZXJ0aWVzLnVzZUZlZWQgJiYgZmVlZEZpZWxkTmFtZSAmJiBXaWRnZXQucHJvcGVydGllcy5keW5hbWljQ29udGVudC5pZCkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBmZWVkID0geWllbGQgV2lkZ2V0LnByb3BlcnRpZXMuZHluYW1pY0NvbnRlbnQubG9hZCgpOw0KICAgICAgICAgICAgICAgIGlmIChmZWVkICYmIGZlZWQuZGF0YSAmJiBmZWVkLmRhdGEubGVuZ3RoKSB7DQogICAgICAgICAgICAgICAgICAgIGZlZWQgPSBmZWVkLmRhdGE7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdkZXNpZ24tdmlldycpIHsNCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NvbWUgZXJyb3Igd2l0aCBmZWVkOiAnLCBlKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoZmVlZCAmJiBmZWVkW2ZlZWRJdGVyYXRpb25JbmRleF0gJiYgZmVlZFtmZWVkSXRlcmF0aW9uSW5kZXhdW2ZlZWRGaWVsZE5hbWVdKSB7DQogICAgICAgICAgICAgICAgZmVlZFVybCA9IChfYSA9IGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4XVtmZWVkRmllbGROYW1lXSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLnZhbHVlOw0KICAgICAgICAgICAgICAgIC8vIHNldCB1cmwgZnJvbSBmZWVkDQogICAgICAgICAgICAgICAgdmlkZW9TZXR0aW5ncy51cmwgPSBnZXRBZGp1c3RlZFVybChmZWVkVXJsKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIC8vIHNldCB1cmwgZnJvbSB3aWRnZXQgcHJvcGVydGllcw0KICAgICAgICAgICAgdmlkZW9TZXR0aW5ncy51cmwgPSBnZXRBZGp1c3RlZFVybChXaWRnZXQucHJvcGVydGllcy51cmwpOw0KICAgICAgICB9DQogICAgICAgIGxldCBwb3N0ZXI7DQogICAgICAgIGxldCBmYWxsYmFja0ltYWdlOw0KICAgICAgICBpZiAodmlkZW9TZXR0aW5ncy5wb3N0ZXIpIHsNCiAgICAgICAgICAgIHBvc3RlciA9IGdldE9wdGltYWxJbWFnZSh2aWRlb1NldHRpbmdzLnBvc3Rlcik7DQogICAgICAgIH0NCiAgICAgICAgaWYgKHZpZGVvU2V0dGluZ3MuZmFsbGJhY2tJbWFnZSkgew0KICAgICAgICAgICAgZmFsbGJhY2tJbWFnZSA9IGdldE9wdGltYWxJbWFnZSh2aWRlb1NldHRpbmdzLmZhbGxiYWNrSW1hZ2UpOw0KICAgICAgICB9DQogICAgICAgIHZpZGVvU2V0dGluZ3MucG9zdGVyID0gcG9zdGVyOw0KICAgICAgICB2aWRlb1NldHRpbmdzLmZhbGxiYWNrSW1hZ2UgPSBmYWxsYmFja0ltYWdlOw0KICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdpbWFnZScpIHsNCiAgICAgICAgICAgIHZpZGVvU2V0dGluZ3MuY29udHJvbHMgPSBmYWxzZTsNCiAgICAgICAgICAgIHZpZGVvU2V0dGluZ3Muc3RhcnRUaW1lID0gTWF0aC5tYXgoMCwgdmlkZW9TZXR0aW5ncy5zdGFydFRpbWUpOw0KICAgICAgICAgICAgdmlkZW9TZXR0aW5ncy5hdXRvcGxheSA9IGZhbHNlOw0KICAgICAgICAgICAgdmlkZW9TZXR0aW5ncy5wb3N0ZXIgPSBudWxsOw0KICAgICAgICB9DQogICAgfSk7DQp9DQpmdW5jdGlvbiBnZXRPcHRpbWFsSW1hZ2Uoc3JjKSB7DQogICAgcmV0dXJuIFdpZGdldC5nZXRPcHRpbWl6ZWRJbWFnZVVybChzcmMsIHsgd2lkdGg6IFdpZGdldC53aWR0aCwgaGVpZ2h0OiBXaWRnZXQuaGVpZ2h0LCBmaXRPcHRpb246IFdpZGdldC5wcm9wZXJ0aWVzLmJhY2tncm91bmRGaWxsLnRvTG93ZXJDYXNlKCkgfSk7DQp9DQpmdW5jdGlvbiBzdHJpcChzKSB7DQogICAgY29uc3QgdG1wID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiRElWIik7DQogICAgdG1wLmlubmVySFRNTCA9IHM7DQogICAgcmV0dXJuIHRtcC50ZXh0Q29udGVudCB8fCB0bXAuaW5uZXJUZXh0IHx8ICIiOw0KfQ0KZnVuY3Rpb24gQkZWaWRlbyhlbGVtLCBvcHRpb25zLCBWaWRlb1RyYWNraW5nKSB7DQogICAgbGV0IF9zZXR0aW5ncyA9IGRlc2VyaWFsaXplU2V0dGluZ3Mob3B0aW9ucyk7DQogICAgbGV0IF92aWRlbzsNCiAgICBjb25zdCBlbEJ5SWQgPSBzZWwgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc2VsKTsNCiAgICBsZXQgZXZlbnRRdWV1ZSA9IFtdOw0KICAgIGxldCBkZXZpY2VJbmZvID0gZ2V0RGV2aWNlSW5mbygpOw0KICAgIGxldCBwbGF5UHJvbWlzZTsNCiAgICBsZXQgdmlkZW9UcmFja2luZzsNCiAgICBsZXQgZGVmYXVsdFZpZGVvVHlwZXMgPSBbDQogICAgICAgIHsNCiAgICAgICAgICAgIGV4dGVuc2lvbjogJ21wNCcsDQogICAgICAgICAgICB0eXBlOiAndmlkZW8vbXA0Jw0KICAgICAgICB9DQogICAgXTsNCiAgICBsZXQgdG90YWxQbGF5dGltZTsNCiAgICBsZXQgdm9sdW1lID0gMDsNCiAgICBsZXQgaGFzUGxheWVkID0gZmFsc2U7DQogICAgbGV0IHJlYWR5U3RhdGUgPSAwOw0KICAgIGNvbnN0IHBsYXllciA9IGVsQnlJZCgndmlkZW8tcGxheWVyJyk7DQogICAgY29uc3QgdmlkZW9Db250YWluZXIgPSBlbEJ5SWQoJ2NvbnRhaW5lcicpOw0KICAgIGNvbnN0IHBsYXlQYXVzZU92ZXJsYXkgPSBlbEJ5SWQoJ3BsYXktcGF1c2Utb3ZlcmxheScpOw0KICAgIGNvbnN0IHBvc3RlciA9IGVsQnlJZCgncG9zdGVyJyk7DQogICAgLy8gSW5pdGlhbGl6ZSBWaWRlbyBjb250cm9scw0KICAgIGxldCB2aWRlb0NvbnRyb2xzID0gZWxCeUlkKCd2aWRlby1jb250cm9scycpOw0KICAgIGxldCBwbGF5YmFjayA9IGVsQnlJZCgncGxheWJhY2snKTsNCiAgICBsZXQgdm9sdW1lQ29udGFpbmVyID0gZWxCeUlkKCd2b2x1bWUnKTsNCiAgICBsZXQgdm9sdW1lQ29udHJvbCA9IGVsQnlJZCgndm9sdW1lLWNvbnRyb2xsZXInKTsNCiAgICBsZXQgdm9sdW1lQ29udHJvbFZhbHVlID0gZWxCeUlkKCd2b2x1bWUtdmFsdWUnKTsNCiAgICBsZXQgdm9sdW1lQ29udHJvbFRvZ2dsZSA9IGVsQnlJZCgndm9sdW1lLWljb24nKTsNCiAgICBsZXQgcHJvZ3Jlc3MgPSBlbEJ5SWQoJ3Byb2dyZXNzJyk7DQogICAgbGV0IHZpZGVvRHVyYXRpb24gPSBlbEJ5SWQoJ3Byb2dyZXNzLXRpbWVyJyk7DQogICAgbGV0IGZ1bGxzY3JlZW4gPSBlbEJ5SWQoJ2Z1bGxzY3JlZW4nKTsNCiAgICBsZXQgdGltZUJhciA9IGVsQnlJZCgndGltZUJhcicpOw0KICAgIHBsYXliYWNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Ub2dnbGVQbGF5UGF1c2UpOw0KICAgIHZvbHVtZUNvbnRyb2wuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Wb2x1bWVEcmFnKTsNCiAgICB2b2x1bWVDb250cm9sVG9nZ2xlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25Wb2x1bWVUb2dnbGUpOw0KICAgIHByb2dyZXNzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uVGltZVNlZWtEcmFnKTsNCiAgICBmdWxsc2NyZWVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlRnVsbHNjcmVlbik7DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG9uQ29udHJvbHNNb3VzZVVwKTsNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbkNvbnRyb2xzTW91c2VEb3duKTsNCiAgICBjb25zdCB2b2x1bWVUb2dnbGVCdXR0b24gPSBlbEJ5SWQoJ3ZvbHVtZVRvZ2dsZScpOw0KICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uVm9sdW1lVG9nZ2xlKTsNCiAgICB0cnkgew0KICAgICAgICBpZiAocGxheWVyKSB7DQogICAgICAgICAgICBwbGF5ZXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChwbGF5ZXIpOw0KICAgICAgICAgICAgX3ZpZGVvID0gbnVsbDsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoIV9zZXR0aW5ncy51cmwpIHsNCiAgICAgICAgICAgIF9zZXR0aW5ncy51cmwgPSAnJzsNCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdXJsLicpOw0KICAgICAgICB9DQogICAgICAgIC8vIFNldCBwb3N0ZXIgYmVmb3JlIGxvYWRpbmcgdmlkZW8NCiAgICAgICAgaWYgKF9zZXR0aW5ncy5wb3N0ZXIpIHsNCiAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBfc2V0dGluZ3MucG9zdGVyICsgJyknOw0KICAgICAgICB9DQogICAgICAgIGlmIChfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSAmJiBDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2ltYWdlJykgew0KICAgICAgICAgICAgcG9zdGVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIF9zZXR0aW5ncy5mYWxsYmFja0ltYWdlICsgJyknOw0KICAgICAgICB9DQogICAgICAgIGVsc2UgaWYgKF9zZXR0aW5ncy5mYWxsYmFja0ltYWdlICYmIGRldmljZUluZm8uaXNNb2JpbGUgJiYgIWRldmljZUluZm8uY2FuUGxheUlubGluZSkgew0KICAgICAgICAgICAgcG9zdGVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIF9zZXR0aW5ncy5mYWxsYmFja0ltYWdlICsgJyknOw0KICAgICAgICB9DQogICAgICAgIF92aWRlbyA9IGNyZWF0ZVZpZGVvRWxlbWVudChfc2V0dGluZ3MudXJsKTsNCiAgICAgICAgZWxlbS5hcHBlbmRDaGlsZChfdmlkZW8pOw0KICAgICAgICAvLyBJbW1lZGlhdGVseSBzZXQgZmlsbCBvcHRpb24gdG8gYXZvaWQgcmVzaXppbmcgdG8gYmUgc2Vlbg0KICAgICAgICBzZXRGaWxsT3B0aW9uKCk7DQogICAgICAgIGlmIChBZC5wYXJhbWV0ZXJzLmlzT21uaVJlbmRlcikgew0KICAgICAgICAgICAgX3ZpZGVvLnBhdXNlKCk7DQogICAgICAgICAgICBfc2V0dGluZ3MuYXV0b3BsYXkgPSBmYWxzZTsNCiAgICAgICAgICAgIF92aWRlby5tdXRlZCA9IGZhbHNlOw0KICAgICAgICAgICAgVGltZWxpbmUub24oVGltZWxpbmVFdmVudC5QbGF5LCAoKSA9PiB7DQogICAgICAgICAgICAgICAgcGxheVZpZGVvKCk7DQogICAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignbG9hZGVkbWV0YWRhdGEnLCBvbk1ldGFMb2FkZWQpOw0KICAgICAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcignZW5kZWQnLCBvblZpZGVvRW5kZWQpOw0KICAgICAgICBfdmlkZW8uYWRkRXZlbnRMaXN0ZW5lcigncGxheScsIG9uVmlkZW9QbGF5KTsNCiAgICAgICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3BhdXNlJywgb25WaWRlb1BhdXNlKTsNCiAgICAgICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ3ZvbHVtZWNoYW5nZScsIG9uVm9sdW1lQ2hhbmdlKTsNCiAgICAgICAgX3ZpZGVvLmFkZEV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25DYW5QbGF5VGhyb3VnaCk7DQogICAgICAgIC8qDQogICAgICAgICogV2UgdXNlIFJBRiBpbnN0ZWFkIG9mIG5hdGl2ZSB0aW1ldXBkYXRlIGV2ZW50IG9uIHRoZSBtZWRpYSBBUEkgdG8NCiAgICAgICAgKiBnZXQgYSBtb3JlIGFjY3VyYXRlIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjdXJyZW50IHRpbWUgb2YgdGhlIHZpZGVvDQogICAgICAgICovDQogICAgICAgIGZ1bmN0aW9uIHRpbWVVcGRhdGUoKSB7DQogICAgICAgICAgICBvblRpbWVVcGRhdGVkKCk7DQogICAgICAgICAgICB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKHRpbWVVcGRhdGUpOw0KICAgICAgICB9DQogICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrKTsNCiAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2spOw0KICAgIH0NCiAgICBjYXRjaCAoZSkgew0KICAgICAgICBlbEJ5SWQoJ2luc3RydWN0aW9ucycpLmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsNCiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGUuc3RhY2spOw0KICAgIH0NCiAgICAvKioNCiAgICAgKiBVcGRhdGVzIHZpZGVvJ3Mgc2V0dGluZ3MNCiAgICAgKiBPbmx5IHNldHRpbmdzIHRoYXQgYXJlIHBhc3NlZCBhcmUgY2hhbmdlZCwgcmVzdCByZW1haW4gcGVyc2lzdGVudA0KICAgICAqIEBwYXJhbSAge30gc2V0dGluZ3MNCiAgICAgKi8NCiAgICBmdW5jdGlvbiBzZXRWaWRlb1NldHRpbmdzKHNldHRpbmdzKSB7DQogICAgICAgIC8vIE1lcmdlIGN1cnJlbnQgc2V0dGluZ3Mgd2l0aCBwb3RlbnRpYWwgbmV3IHNldHRpbmdzDQogICAgICAgIGZvciAobGV0IGF0dHJuYW1lIGluIHNldHRpbmdzKSB7DQogICAgICAgICAgICBfc2V0dGluZ3NbYXR0cm5hbWVdID0gc2V0dGluZ3NbYXR0cm5hbWVdOw0KICAgICAgICB9DQogICAgICAgIF9zZXR0aW5ncyA9IGRlc2VyaWFsaXplU2V0dGluZ3MoX3NldHRpbmdzKTsNCiAgICAgICAgdmlkZW9UcmFja2luZyA9IG5ldyBWaWRlb1RyYWNraW5nKGdldFVybE1ldGEoX3NldHRpbmdzLnVybCkpOw0KICAgICAgICB0b3RhbFBsYXl0aW1lID0gKF9zZXR0aW5ncy5zdGFydFRpbWUgPj0gMSAmJiBfc2V0dGluZ3MuZW5kVGltZSA+PSAxKQ0KICAgICAgICAgICAgPyBfc2V0dGluZ3MuZW5kVGltZSAtIF9zZXR0aW5ncy5zdGFydFRpbWUNCiAgICAgICAgICAgIDogX3ZpZGVvLmR1cmF0aW9uIC0gX3NldHRpbmdzLnN0YXJ0VGltZTsNCiAgICAgICAgaWYgKF9zZXR0aW5ncy5sb29wV2l0aEJhbm5lcikgew0KICAgICAgICAgICAgaWYgKFdpZGdldC5kdXJhdGlvbiA+IF92aWRlby5kdXJhdGlvbikgew0KICAgICAgICAgICAgICAgIHRvdGFsUGxheXRpbWUgPSBfdmlkZW8uZHVyYXRpb247DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICB0b3RhbFBsYXl0aW1lID0gV2lkZ2V0LmR1cmF0aW9uOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIC8qKg0KICAgICAgICAgKiBPbmx5IHNldCBhdXRvcGxheSB0byB0cnVlIGlmIHRoZSBkZXZpY2Ugc3VwcG9ydHMgcGxheXNJbmxpbmUgYXR0cmlidXRlIGFuZCBpcyBtb2JpbGUsDQogICAgICAgICAqIGF1dG9wbGF5aW5nIGlzIG90aGVyd2lzZSBoYW5kbGVkIGZyb20gY2FuUGxheVRocm91Z2ggdG8gZW5zdXJlIHRoYXQgdGhlIHZpZGVvIGlzIHJlYWR5IGZvciBwbGF5YmFjay4NCiAgICAgICAgICogVGhpcyBpcyB0byBwcm9wZXJseSBzaG93L2hpZGUgdGhlIHBvc3RlciB3aGlsc3QgdmlkZW8gaXMgYnVmZmVyaW5nDQogICAgICAgICAqLw0KICAgICAgICBfdmlkZW8uYXV0b3BsYXkgPSBkZXZpY2VJbmZvLmNhblBsYXlJbmxpbmUgJiYgZGV2aWNlSW5mby5pc01vYmlsZQ0KICAgICAgICAgICAgPyBfc2V0dGluZ3MuYXV0b3BsYXkNCiAgICAgICAgICAgIDogZmFsc2U7DQogICAgICAgIF92aWRlby5jb250cm9scyA9IGRldmljZUluZm8uY2FuUGxheUlubGluZSAmJiBkZXZpY2VJbmZvLmlzTW9iaWxlDQogICAgICAgICAgICA/IF9zZXR0aW5ncy5jb250cm9scw0KICAgICAgICAgICAgOiBmYWxzZTsNCiAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnaW1hZ2UnICYmIEFkLnBhcmFtZXRlcnMuc2Vlaykgew0KICAgICAgICAgICAgX3ZpZGVvLmN1cnJlbnRUaW1lID0gdG9SZWxhdGl2ZVRpbWUoQWQucGFyYW1ldGVycy5zZWVrKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIF92aWRlby5jdXJyZW50VGltZSA9IF9zZXR0aW5ncy5zdGFydFRpbWU7DQogICAgICAgIH0NCiAgICAgICAgc2V0Vm9sdW1lKF9zZXR0aW5ncy52b2x1bWUpOw0KICAgICAgICAvLyBJZiB0aGVyZSdzIG5vIGF1dG9wbGF5IGFuZCB0aGVyZSdzIHZvbHVtZSB0aGVyZSdzIG5vIHBvaW50IGluIG11dGluZyB0aGUgdmlkZW8gYnkgZGVmYXVsdA0KICAgICAgICBpZiAoKCFfc2V0dGluZ3MuYXV0b3BsYXkgJiYgX3NldHRpbmdzLnZvbHVtZSkgfHwgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnICYmIF9zZXR0aW5ncy52b2x1bWUpKSB7DQogICAgICAgICAgICBfdmlkZW8ubXV0ZWQgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBfdmlkZW8ucGxheWJhY2tSYXRlID0gX3NldHRpbmdzLnBsYXliYWNrUmF0ZTsNCiAgICAgICAgLy8gVXBkYXRlIHBvc3RlciBpZiBjaGFuZ2VkDQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCAhPT0gJ2ltYWdlJyAmJiBfc2V0dGluZ3MucG9zdGVyKSB7DQogICAgICAgICAgICBwb3N0ZXIuc3R5bGUuYmFja2dyb3VuZEltYWdlID0gJ3VybCgnICsgX3NldHRpbmdzLnBvc3RlciArICcpJzsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdkZXNpZ24tdmlldycpIHsNCiAgICAgICAgICAgIHZpZGVvLnBhdXNlKCk7DQogICAgICAgIH0NCiAgICAgICAgdXBkYXRlRE9NKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGdldFByb3BlclVybCh1cmwpIHsNCiAgICAgICAgdXJsID0gdXJsLnJlcGxhY2UoLyhcclxufFxufFxyfFxzKS9nbSwgIiIpOw0KICAgICAgICBsZXQgdXJscyA9IHVybC5zcGxpdCgnLCcpOw0KICAgICAgICBpZiAoKHVybHMubGVuZ3RoID09PSAyICYmICF1cmwubWF0Y2goL1wuKHdlYm18bW92KS8pKSB8fCB1cmxzLmxlbmd0aCA+IDIpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIGlmICh1cmxzLmxlbmd0aCA9PT0gMSAmJiAhdXJsLm1hdGNoKCcubXA0JykpIHsNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodXJscy5sZW5ndGggPT09IDIpIHsNCiAgICAgICAgICAgIGlmIChnZXREZXZpY2VJbmZvKCkuaXNTYWZhcmkpIHsNCiAgICAgICAgICAgICAgICB1cmwgPSB1cmxzWzBdLm1hdGNoKCcubW92JykgPyB1cmxzWzBdIDogdXJsc1sxXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHVybCA9IHVybHNbMF0ubWF0Y2goJy53ZWJtJykgPyB1cmxzWzBdIDogdXJsc1sxXTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgICAgICBpbnN0cnVjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOw0KICAgICAgICByZXR1cm4gdXJsOw0KICAgIH0NCiAgICBmdW5jdGlvbiBjcmVhdGVWaWRlb0VsZW1lbnQodXJsKSB7DQogICAgICAgIHVybCA9IGdldFByb3BlclVybCh1cmwpOw0KICAgICAgICBpZiAoIXVybCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHZhciB1ID0gZ2V0VXJsTWV0YSh1cmwpOw0KICAgICAgICBjb25zdCB2aWRlb1R5cGUgPSBnZXRWaWRlb1R5cGVBbmRVcGRhdGVTb3VyY2VVcmwodSk7DQogICAgICAgIGxldCB1cmxTcmMgPSB1LnNvdXJjZVVybDsNCiAgICAgICAgbGV0IHF1ZXJ5UGFyYW1zID0gdS5wYXJhbXM7DQogICAgICAgIGNvbnN0IHZpZGVvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgndmlkZW8nKTsNCiAgICAgICAgdmlkZW8uaWQgPSAndmlkZW8tcGxheWVyJzsNCiAgICAgICAgdmlkZW8ucHJlbG9hZCA9ICdtZXRhZGF0YSc7DQogICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgncGxheXNpbmxpbmUnLCAnJyk7DQogICAgICAgIC8vIE11dGVkIGlzIHNldCBoZXJlIGluc3RlYWQgb2Ygc2V0VmlkZW9TZXR0aW5nIHRvIHByZXZlbnQgaXQgdG8gYmUgbXV0ZWQgd2hlbiBub3Qgd2FudGVkDQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2Rlc2lnbi12aWV3Jykgew0KICAgICAgICAgICAgdmlkZW8ubXV0ZWQgPSBmYWxzZTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHZpZGVvLm11dGVkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdpbWFnZScgJiYgQWQucGFyYW1ldGVycy5zZWVrKSB7DQogICAgICAgICAgICB2aWRlby5jdXJyZW50VGltZSA9IHRvUmVsYXRpdmVUaW1lKEFkLnBhcmFtZXRlcnMuc2Vlayk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGRldmljZUluZm8uaXNNb2JpbGUpIHsNCiAgICAgICAgICAgIHZpZGVvLnNldEF0dHJpYnV0ZSgnbXV0ZWQnLCAnJyk7DQogICAgICAgIH0NCiAgICAgICAgZm9yIChsZXQgaSBpbiB2aWRlb1R5cGUpIHsNCiAgICAgICAgICAgIHZhciBzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc291cmNlJyk7DQogICAgICAgICAgICBzLnNyYyA9IHVybFNyYyArICcuJyArIHZpZGVvVHlwZVtpXS5leHRlbnNpb24gKyBxdWVyeVBhcmFtczsNCiAgICAgICAgICAgIHMuc2V0QXR0cmlidXRlKCJ0eXBlIiwgdmlkZW9UeXBlW2ldLnR5cGUpOw0KICAgICAgICAgICAgdmlkZW8uYXBwZW5kQ2hpbGQocyk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIHZpZGVvOw0KICAgIH0NCiAgICBmdW5jdGlvbiBnZXRWaWRlb1R5cGVBbmRVcGRhdGVTb3VyY2VVcmwodSkgew0KICAgICAgICBsZXQgdmlkZW9UeXBlOw0KICAgICAgICBpZiAodS5leHQubWF0Y2goLyh3ZWJtfG1vdikvKSkgew0KICAgICAgICAgICAgaWYgKGdldERldmljZUluZm8oKS5pc1NhZmFyaSkgew0KICAgICAgICAgICAgICAgIHZpZGVvVHlwZSA9IFt7DQogICAgICAgICAgICAgICAgICAgICAgICBleHRlbnNpb246ICdtb3YnLA0KICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3ZpZGVvL3F1aWNrdGltZScNCiAgICAgICAgICAgICAgICAgICAgfV07DQogICAgICAgICAgICB9DQogICAgICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgICAgICB2aWRlb1R5cGUgPSBbew0KICAgICAgICAgICAgICAgICAgICAgICAgZXh0ZW5zaW9uOiAnd2VibScsDQogICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndmlkZW8vd2VibScNCiAgICAgICAgICAgICAgICAgICAgfV07DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZXR1cm4gdmlkZW9UeXBlOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRWaWRlb1R5cGVzOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIHVwZGF0ZURPTSgpIHsNCiAgICAgICAgaWYgKCFfc2V0dGluZ3MuYXV0b3BsYXkgJiYgX3NldHRpbmdzLnBvc3Rlcikgew0KICAgICAgICAgICAgcG9zdGVyLnN0eWxlLmRpc3BsYXkgPSAnJzsNCiAgICAgICAgICAgIF92aWRlby5zdHlsZS5kaXNwbGF5ID0gJyc7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFkZXZpY2VJbmZvLmNhblBsYXlJbmxpbmUgJiYgZGV2aWNlSW5mby5pc01vYmlsZSkgew0KICAgICAgICAgICAgaWYgKF9zZXR0aW5ncy5mYWxsYmFja0ltYWdlKSB7DQogICAgICAgICAgICAgICAgcG9zdGVyLnN0eWxlLmJhY2tncm91bmRJbWFnZSA9ICd1cmwoJyArIF9zZXR0aW5ncy5mYWxsYmFja0ltYWdlICsgJyknOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgX3ZpZGVvLnN0YXJ0VGltZSA9IDE7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKGRldmljZUluZm8uaXNNb2JpbGUpIHsNCiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0LmFkZCgnbW9iaWxlJyk7DQogICAgICAgIH0NCiAgICAgICAgaWYgKCFfc2V0dGluZ3MuY29udHJvbHMgJiYgIV9zZXR0aW5ncy5hdXRvcGxheSAmJiBDcmVhdGl2ZS5lbnZpcm9ubWVudCAhPT0gJ2ltYWdlJykgew0KICAgICAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBwbGF5UGF1c2VPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoX3NldHRpbmdzLmZhbGxiYWNrSW1hZ2UgJiYgIWRldmljZUluZm8uY2FuUGxheUlubGluZSkgew0KICAgICAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QuYWRkKCdoaWRlJyk7DQogICAgICAgIH0NCiAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5xdWVyeVNlbGVjdG9yQWxsKCdzdmcnKVswXS5zdHlsZS53aWR0aCA9IF9zZXR0aW5ncy5wbGF5UGF1c2VCdXR0b25TaXplICsgJyUnOw0KICAgICAgICBwbGF5UGF1c2VPdmVybGF5LnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2ZycpWzFdLnN0eWxlLndpZHRoID0gX3NldHRpbmdzLnBsYXlQYXVzZUJ1dHRvblNpemUgKyAnJSc7DQogICAgICAgIGlmIChfc2V0dGluZ3MuY29udHJvbHMgJiYgIWRldmljZUluZm8uaXNNb2JpbGUpIHsNCiAgICAgICAgICAgIHZpZGVvQ29udHJvbHMuY2xhc3NMaXN0LmFkZCgnc2hvdycpOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgdmlkZW9Db250cm9scy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7DQogICAgICAgIH0NCiAgICAgICAgX3ZpZGVvLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IF9zZXR0aW5ncy5wbGF5ZXJCYWNrZ3JvdW5kOw0KICAgICAgICBfdmlkZW8uc3R5bGUuZmlsdGVyID0gJ2dyYXlzY2FsZSgnICsgX3NldHRpbmdzLmdyYXlTY2FsZSArICclKSc7DQogICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gX3NldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvbiA/ICdibG9jaycgOiAnbm9uZSc7DQogICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5zdHlsZS50b3AgPSBfc2V0dGluZ3Mudm9sdW1lVG9nZ2xlQnV0dG9uUG9zaXRpb25Ub3AgKyAnJSc7DQogICAgICAgIHZvbHVtZVRvZ2dsZUJ1dHRvbi5zdHlsZS5sZWZ0ID0gX3NldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvblBvc2l0aW9uTGVmdCArICclJzsNCiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLnN0eWxlLndpZHRoID0gX3NldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvblNpemUgKyAncHgnOw0KICAgICAgICB2b2x1bWVUb2dnbGVCdXR0b24uc3R5bGUuaGVpZ2h0ID0gX3NldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvblNpemUgKyAncHgnOw0KICAgICAgICB2b2x1bWVUb2dnbGVCdXR0b24ucXVlcnlTZWxlY3RvckFsbCgnc3ZnJylbMF0uc3R5bGUuZmlsbCA9IF9zZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b25Db2xvcjsNCiAgICAgICAgdm9sdW1lVG9nZ2xlQnV0dG9uLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N2ZycpWzFdLnN0eWxlLmZpbGwgPSBfc2V0dGluZ3Mudm9sdW1lVG9nZ2xlQnV0dG9uQ29sb3I7DQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2ltYWdlJykgew0KICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKCJpbWFnZUdlbmVyYXRvck1vZGUiKTsNCiAgICAgICAgICAgIGlmIChfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSkgew0KICAgICAgICAgICAgICAgIHBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyBfc2V0dGluZ3MuZmFsbGJhY2tJbWFnZSArICcpJzsNCiAgICAgICAgICAgICAgICBfdmlkZW8uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gJ3JnYmEoMCwwLDAsMCknOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIHNldEZpbGxPcHRpb24oKTsNCiAgICB9DQogICAgZnVuY3Rpb24gc2V0RmlsbE9wdGlvbigpIHsNCiAgICAgICAgaWYgKF9zZXR0aW5ncy5iYWNrZ3JvdW5kRmlsbCA9PT0gJ0NvdmVyJykgew0KICAgICAgICAgICAgcG9zdGVyLmNsYXNzTmFtZSA9ICdjb3Zlcic7DQogICAgICAgICAgICAoX3ZpZGVvLnZpZGVvSGVpZ2h0IC8gX3ZpZGVvLnZpZGVvV2lkdGgpIDw9ICh2aWRlb0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQgLyB2aWRlb0NvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCkNCiAgICAgICAgICAgICAgICA/IF92aWRlby5jbGFzc05hbWUgPSAnY292ZXIgY292ZXIteCcNCiAgICAgICAgICAgICAgICA6IF92aWRlby5jbGFzc05hbWUgPSAnY292ZXIgY292ZXIteSc7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBwb3N0ZXIuY2xhc3NOYW1lID0gJyc7DQogICAgICAgICAgICBfdmlkZW8uY2xhc3NOYW1lID0gJyc7DQogICAgICAgIH0NCiAgICAgICAgaWYgKF9zZXR0aW5ncy5wb3N0ZXIpIHsNCiAgICAgICAgICAgIF92aWRlby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIHJlc3RhcnRWaWRlbygpIHsNCiAgICAgICAgX3ZpZGVvLmN1cnJlbnRUaW1lID0gX3NldHRpbmdzLnN0YXJ0VGltZTsNCiAgICAgICAgcGxheVZpZGVvKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIHNldFJlYWR5U3RhdGUoKSB7DQogICAgICAgIGlmIChfdmlkZW8ucmVhZHlTdGF0ZSA+IHJlYWR5U3RhdGUpIHsNCiAgICAgICAgICAgIHJlYWR5U3RhdGUgPSBfdmlkZW8ucmVhZHlTdGF0ZTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBwbGF5VmlkZW8oZm9yY2VQbGF5KSB7DQogICAgICAgIC8qDQogICAgICAgICAqIENoZWNrIGlmIHRoZSB2aWRlbyBpcyBwbGF5YWJsZSwgb3RoZXJ3aXNlIGFkZCBpdCB0byB0aGUgZXZlbnRRdWV1ZSB3aGljaA0KICAgICAgICAgKiB0cmlnZ2VycyBwbGF5IG9uIGNhblBsYXlUaHJvdWdoIHdoaWNoIGlzIHdoZW4gdmlkZW8gaXMgcGxheWFibGUNCiAgICAgICAgICovDQogICAgICAgIHNldFJlYWR5U3RhdGUoKTsNCiAgICAgICAgaWYgKCFUaW1lbGluZS5pc1BsYXlpbmcgJiYgIWZvcmNlUGxheSkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKF9zZXR0aW5ncy5hdXRvcGxheSB8fCBoYXNQbGF5ZWQpIHsNCiAgICAgICAgICAgICAgICBwb3N0ZXIuc3R5bGUuZGlzcGxheSA9ICdub25lJzsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwgMTUwKTsNCiAgICAgICAgY29uc3Qgc2hvdWxkUGxheSA9IChyZWFkeVN0YXRlID49IDMgJiYgX3NldHRpbmdzLmF1dG9wbGF5KSB8fCBoYXNQbGF5ZWQgfHwgZm9yY2VQbGF5Ow0KICAgICAgICBpZiAoc2hvdWxkUGxheSkgew0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICBpZiAocGxheVByb21pc2UgIT09IHVuZGVmaW5lZCkgew0KICAgICAgICAgICAgICAgICAgICBwbGF5UHJvbWlzZS50aGVuKGZ1bmN0aW9uICgpIHsNCiAgICAgICAgICAgICAgICAgICAgICAgIF92aWRlby5wbGF5KCk7DQogICAgICAgICAgICAgICAgICAgICAgICBwbGF5UHJvbWlzZSA9IHVuZGVmaW5lZDsNCiAgICAgICAgICAgICAgICAgICAgICAgIF92aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5dGhyb3VnaCcsIG9uQ2FuUGxheVRocm91Z2gpOw0KICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoKSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICBwbGF5UHJvbWlzZSA9IF92aWRlby5wYXVzZSgpOw0KICAgICAgICAgICAgICAgICAgICB9KTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHBsYXlQcm9taXNlID0gX3ZpZGVvLnBsYXkoKTsNCiAgICAgICAgICAgICAgICAgICAgX3ZpZGVvLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NhbnBsYXl0aHJvdWdoJywgb25DYW5QbGF5VGhyb3VnaCk7DQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHZpZGVvVHJhY2tpbmcuc3RhcnRlZCgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgY2F0Y2ggKGUpIHsNCiAgICAgICAgICAgICAgICAvLyBJbiBjYXNlIHByb21pc2VzIGFyZSBub3Qgc3VwcG9ydGVkDQogICAgICAgICAgICAgICAgX3ZpZGVvLnBsYXkoKTsNCiAgICAgICAgICAgICAgICBfdmlkZW8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2FucGxheXRocm91Z2gnLCBvbkNhblBsYXlUaHJvdWdoKTsNCiAgICAgICAgICAgICAgICB2aWRlb1RyYWNraW5nLnN0YXJ0ZWQoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGhhc1BsYXllZCA9IHRydWU7DQogICAgICAgICAgICBpZiAoZGV2aWNlSW5mby5pc01vYmlsZSAmJiAhZGV2aWNlSW5mby5jYW5QbGF5SW5saW5lKSB7DQogICAgICAgICAgICAgICAgcG9zdGVyLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgICAgIF92aWRlby5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSB7DQogICAgICAgICAgICAgICAgX3ZpZGVvLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgaWYgKF9zZXR0aW5ncy5jb250cm9scyAmJiAhX3NldHRpbmdzLmF1dG9wbGF5KSB7DQogICAgICAgICAgICAgICAgcGxheVBhdXNlT3ZlcmxheS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBldmVudFF1ZXVlLnB1c2goJ3BsYXknKTsNCiAgICAgICAgICAgIGlmICh2aWRlb1RyYWNraW5nKSB7DQogICAgICAgICAgICAgICAgdmlkZW9UcmFja2luZy5zdGFydGVkKCk7DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gc2Vla1RvKHMpIHsNCiAgICAgICAgc2V0UmVhZHlTdGF0ZSgpOw0KICAgICAgICBfdmlkZW8uY3VycmVudFRpbWUgPSBzOw0KICAgIH0NCiAgICBmdW5jdGlvbiBwYXVzZVZpZGVvKCkgew0KICAgICAgICByZXR1cm4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgICAgICAgICAgc2V0UmVhZHlTdGF0ZSgpOw0KICAgICAgICAgICAgdHJ5IHsNCiAgICAgICAgICAgICAgICB5aWVsZCBwbGF5UHJvbWlzZTsNCiAgICAgICAgICAgICAgICBfdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGNhdGNoIChlKSB7DQogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIHN0b3BWaWRlbygpIHsNCiAgICAgICAgcGF1c2VWaWRlbygpOw0KICAgICAgICBwbGF5UGF1c2VPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsNCiAgICB9DQogICAgZnVuY3Rpb24gc2V0Vm9sdW1lKHZvbHVtZSkgew0KICAgICAgICBfdmlkZW8udm9sdW1lID0gZGV2aWNlSW5mby5pc01vYmlsZSA/IDAgOiB0b0ZyYWN0aW9ucyh2b2x1bWUpOw0KICAgIH0NCiAgICBmdW5jdGlvbiB0b2dnbGVNdXRlKG11dGUpIHsNCiAgICAgICAgaWYgKCFkZXZpY2VJbmZvLmlzTW9iaWxlKSB7DQogICAgICAgICAgICBfdmlkZW8ubXV0ZWQgPSAodHlwZW9mIG11dGUgPT09ICdib29sZWFuJykgPyBtdXRlIDogIV92aWRlby5tdXRlZDsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBsb2FkVmlkZW8odXJsKSB7DQogICAgICAgIHVybCA9IGdldFByb3BlclVybCh1cmwpOw0KICAgICAgICBpZiAoIXVybCkgew0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB9DQogICAgICAgIHVybCA9IGdldEFkanVzdGVkVXJsKHVybCk7DQogICAgICAgIGNvbnN0IHUgPSBnZXRVcmxNZXRhKHVybCk7DQogICAgICAgIGNvbnN0IHZpZGVvVHlwZSA9IGdldFZpZGVvVHlwZUFuZFVwZGF0ZVNvdXJjZVVybCh1KTsNCiAgICAgICAgY29uc3QgdXJsU3JjID0gdS5zb3VyY2VVcmw7DQogICAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gdS5wYXJhbXM7DQogICAgICAgIC8vIFVwZGF0ZSBzb3VyY2VzDQogICAgICAgIGZvciAobGV0IHZ0IGluIHZpZGVvVHlwZSkgew0KICAgICAgICAgICAgY29uc3QgcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NvdXJjZScpW3Z0XTsNCiAgICAgICAgICAgIHMuc3JjID0gdXJsU3JjICsgJy4nICsgdmlkZW9UeXBlW3Z0XS5leHRlbnNpb24gKyBxdWVyeVBhcmFtczsNCiAgICAgICAgfQ0KICAgICAgICB2YXIgY3VycmVudFZvbHVtZSA9IF92aWRlby52b2x1bWU7DQogICAgICAgIF92aWRlby5sb2FkKCk7DQogICAgICAgIGlmIChfc2V0dGluZ3MuYXV0b3BsYXkpIHsNCiAgICAgICAgICAgIHBsYXlWaWRlbygpOw0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgcGF1c2VWaWRlbygpOw0KICAgICAgICB9DQogICAgICAgIHNldFZpZGVvU2V0dGluZ3MoeyB1cmw6IHVybCB9KTsNCiAgICAgICAgc2V0Vm9sdW1lKGN1cnJlbnRWb2x1bWUpOw0KICAgIH0NCiAgICBmdW5jdGlvbiB0b2dnbGVQbGF5UGF1c2VCdXR0b24oKSB7DQogICAgICAgIGlmIChfdmlkZW8ucGF1c2VkKSB7DQogICAgICAgICAgICBwbGF5UGF1c2VPdmVybGF5LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3ctcGF1c2UnKTsNCiAgICAgICAgICAgIHBsYXlQYXVzZU92ZXJsYXkuY2xhc3NMaXN0LmFkZCgnc2hvdy1wbGF5Jyk7DQogICAgICAgICAgICBwbGF5YmFjay5jbGFzc05hbWUgPSAnaXNQYXVzZWQnOw0KICAgICAgICAgICAgdmlkZW9Db250YWluZXIuY2xhc3NOYW1lID0gJ2lzUGF1c2VkJzsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHBsYXlQYXVzZU92ZXJsYXkuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdy1wbGF5Jyk7DQogICAgICAgICAgICBwbGF5UGF1c2VPdmVybGF5LmNsYXNzTGlzdC5hZGQoJ3Nob3ctcGF1c2UnKTsNCiAgICAgICAgICAgIHBsYXliYWNrLmNsYXNzTmFtZSA9ICdpc1BsYXlpbmcnOw0KICAgICAgICAgICAgdmlkZW9Db250YWluZXIuY2xhc3NOYW1lID0gJ2lzUGxheWluZyc7DQogICAgICAgIH0NCiAgICAgICAgaWYgKF92aWRlby5wYXVzZWQgfHwgX3ZpZGVvLmVuZGVkKSB7DQogICAgICAgICAgICBwbGF5YmFjay5jbGFzc05hbWUgPSAnaXNQYXVzZWQnOw0KICAgICAgICAgICAgdmlkZW9Db250YWluZXIuY2xhc3NOYW1lID0gJ2lzUGF1c2VkJzsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHBsYXliYWNrLmNsYXNzTmFtZSA9ICdpc1BsYXlpbmcnOw0KICAgICAgICAgICAgdmlkZW9Db250YWluZXIuY2xhc3NOYW1lID0gJ2lzUGxheWluZyc7DQogICAgICAgIH0NCiAgICB9DQogICAgZnVuY3Rpb24gZ2V0VXJsTWV0YSh1cmwpIHsNCiAgICAgICAgY29uc3QgbyA9IHt9Ow0KICAgICAgICBpZiAodXJsICYmIHVybC5sZW5ndGgpIHsNCiAgICAgICAgICAgIG8udXJsID0gdXJsLnNwbGl0KCc/JylbMF07DQogICAgICAgICAgICBvLnNvdXJjZVVybCA9IHVybC5zcGxpdCgnPycpWzBdLnN1YnN0cmluZygwLCB1cmwubGFzdEluZGV4T2YoIi4iKSk7DQogICAgICAgICAgICBvLnBhcmFtcyA9IHVybC5pbmRleE9mKCc/JykgIT0gLTEgPyAnPycgKyB1cmwuc3BsaXQoJz8nKVsxXSA6ICcnOw0KICAgICAgICAgICAgby5leHQgPSB1cmwuc3BsaXQoJz8nKVswXS5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCIuIikgKyAxKSB8fCAnJzsNCiAgICAgICAgICAgIG8uZmlsZW5hbWUgPSB1cmwubWF0Y2goLyhbXi9dKyQpLywgJycpWzBdLnNwbGl0KCc/JylbMF07DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuIG87DQogICAgfQ0KICAgIC8qDQogICAgKiogRXZlbnQgaGFuZGxlcnMNCiAgICAqLw0KICAgIGZ1bmN0aW9uIG9uTWV0YUxvYWRlZCgpIHsNCiAgICAgICAgZWxCeUlkKCdpbnN0cnVjdGlvbnMnKS5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7DQogICAgICAgIHNldFJlYWR5U3RhdGUoKTsNCiAgICAgICAgX3NldHRpbmdzLnN0YXJ0VGltZSA9IF9zZXR0aW5ncy5zdGFydFRpbWUgPD0gX3ZpZGVvLmR1cmF0aW9uID8gX3NldHRpbmdzLnN0YXJ0VGltZSA6IDA7DQogICAgICAgIHNldFZpZGVvU2V0dGluZ3MoX3NldHRpbmdzKTsNCiAgICAgICAgdGltZVVwZGF0ZSgpOw0KICAgICAgICBvblZvbHVtZUNoYW5nZSgpOw0KICAgIH0NCiAgICBmdW5jdGlvbiBvbkNhblBsYXlUaHJvdWdoKCkgew0KICAgICAgICBlbEJ5SWQoJ2luc3RydWN0aW9ucycpLmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKTsNCiAgICAgICAgc2V0UmVhZHlTdGF0ZSgpOw0KICAgICAgICBmb3IgKGxldCBldmVudCBvZiBldmVudFF1ZXVlKSB7DQogICAgICAgICAgICBzd2l0Y2ggKGV2ZW50KSB7DQogICAgICAgICAgICAgICAgY2FzZSAncGxheSc6DQogICAgICAgICAgICAgICAgICAgIHBsYXlWaWRlbygpOw0KICAgICAgICAgICAgICAgICAgICBicmVhazsNCiAgICAgICAgICAgICAgICBjYXNlICdwYXVzZSc6DQogICAgICAgICAgICAgICAgICAgIHBhdXNlVmlkZW8oKTsNCiAgICAgICAgICAgICAgICAgICAgYnJlYWs7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBoYXNQbGF5ZWQgPSB0cnVlOw0KICAgICAgICAgICAgaWYgKGV2ZW50ID09PSAncGxheScgJiYgZGV2aWNlSW5mby5jYW5QbGF5SW5saW5lKSB7DQogICAgICAgICAgICAgICAgcG9zdGVyLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgICAgICAgICAgICAgX3ZpZGVvLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGV2ZW50UXVldWUgPSBbXTsNCiAgICAgICAgdG9nZ2xlUGxheVBhdXNlQnV0dG9uKCk7DQogICAgICAgIGlmIChyZWFkeVN0YXRlID49IDMgfHwgIV92aWRlby5wYXVzZWQpIHsNCiAgICAgICAgICAgIF92aWRlby5yZW1vdmVFdmVudExpc3RlbmVyKCdjYW5wbGF5Jywgb25DYW5QbGF5VGhyb3VnaCk7DQogICAgICAgIH0NCiAgICAgICAgcHJvbWlzZVJlc29sdmVyKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uVGltZVVwZGF0ZWQoKSB7DQogICAgICAgIGlmICghX3ZpZGVvKSB7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICAgICAgaWYgKCF0aW1lQmFyLnN0eWxlLndpZHRoKSB7DQogICAgICAgICAgICB0aW1lQmFyLnN0eWxlLndpZHRoID0gX3ZpZGVvLmR1cmF0aW9uICsgJyUnOw0KICAgICAgICB9DQogICAgICAgIHRpbWVCYXIuc3R5bGUud2lkdGggPSBNYXRoLnJvdW5kKChfdmlkZW8uY3VycmVudFRpbWUgLyBfdmlkZW8uZHVyYXRpb24pICogMTAwKSArICclJzsNCiAgICAgICAgaWYgKHZpZGVvRHVyYXRpb24uaW5uZXJIVE1MLnNwbGl0KCcvJylbMF0udHJpbSgpICE9PSBmb3JtYXRUaW1lKF92aWRlby5jdXJyZW50VGltZSkpIHsNCiAgICAgICAgICAgIHZpZGVvRHVyYXRpb24uaW5uZXJIVE1MID0gZm9ybWF0VGltZShfdmlkZW8uY3VycmVudFRpbWUpICsgJyAvICcgKyBmb3JtYXRUaW1lKF92aWRlby5kdXJhdGlvbik7DQogICAgICAgIH0NCiAgICAgICAgaWYgKF92aWRlby5jdXJyZW50VGltZSA+PSB0b3RhbFBsYXl0aW1lICogMC45NSAtIDEgJiYgX3ZpZGVvLmN1cnJlbnRUaW1lIDw9IHRvdGFsUGxheXRpbWUgKiAwLjk1ICsgMSAmJiBUaW1lbGluZS5jdXJyZW50VGltZSA+PSBXaWRnZXQudGltZSkgew0KICAgICAgICAgICAgdmlkZW9UcmFja2luZy5jb21wbGV0ZWQoKTsNCiAgICAgICAgfQ0KICAgICAgICAvLyBDaGVjayBpZiByZWFjaGVkIHRoaXJkIHF1YXJ0aWxlICg3NSUpDQogICAgICAgIGVsc2UgaWYgKF92aWRlby5jdXJyZW50VGltZSA+PSB0b3RhbFBsYXl0aW1lICogMC43NSAtIDEgJiYgX3ZpZGVvLmN1cnJlbnRUaW1lIDw9IHRvdGFsUGxheXRpbWUgKiAwLjc1ICsgMSAmJiBUaW1lbGluZS5jdXJyZW50VGltZSA+PSBXaWRnZXQudGltZSkgew0KICAgICAgICAgICAgdmlkZW9UcmFja2luZy50cSgpOw0KICAgICAgICB9DQogICAgICAgIC8vIENoZWNrIGlmIHJlYWNoZWQgbWlkcG9pbnQgKDUwJSkNCiAgICAgICAgZWxzZSBpZiAoX3ZpZGVvLmN1cnJlbnRUaW1lID49IHRvdGFsUGxheXRpbWUgKiAwLjUwIC0gMSAmJiBfdmlkZW8uY3VycmVudFRpbWUgPD0gdG90YWxQbGF5dGltZSAqIDAuNTAgKyAxICYmIFRpbWVsaW5lLmN1cnJlbnRUaW1lID49IFdpZGdldC50aW1lKSB7DQogICAgICAgICAgICB2aWRlb1RyYWNraW5nLm1wKCk7DQogICAgICAgIH0NCiAgICAgICAgLy8gQ2hlY2sgaWYgcmVhY2hlZCBmaXJzdCBxdWFydGlsZSAoMjUlKQ0KICAgICAgICBlbHNlIGlmIChfdmlkZW8uY3VycmVudFRpbWUgPj0gdG90YWxQbGF5dGltZSAqIDAuMjUgLSAxICYmIF92aWRlby5jdXJyZW50VGltZSA8PSB0b3RhbFBsYXl0aW1lICogMC4yNSArIDEgJiYgVGltZWxpbmUuY3VycmVudFRpbWUgPj0gV2lkZ2V0LnRpbWUpIHsNCiAgICAgICAgICAgIHZpZGVvVHJhY2tpbmcuZnEoKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAoX3ZpZGVvLmN1cnJlbnRUaW1lID49ICgoX3NldHRpbmdzLmVuZFRpbWUgJiYgX3NldHRpbmdzLmVuZFRpbWUgPCBfdmlkZW8uZHVyYXRpb24pID8gX3NldHRpbmdzLmVuZFRpbWUgOiBfdmlkZW8uZHVyYXRpb24pICYmIFRpbWVsaW5lLmN1cnJlbnRUaW1lID49IFdpZGdldC50aW1lKSB7DQogICAgICAgICAgICBvblZpZGVvRW5kZWQoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBvblZpZGVvRW5kZWQoKSB7DQogICAgICAgIGlmICghX3NldHRpbmdzLmxvb3ApIHsNCiAgICAgICAgICAgIHBhdXNlVmlkZW8oKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIHJlc3RhcnRWaWRlbygpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uVmlkZW9QbGF5KCkgew0KICAgICAgICB2aWRlb1RyYWNraW5nLnN0YXJ0ZWQoKTsNCiAgICAgICAgdG9nZ2xlUGxheVBhdXNlQnV0dG9uKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uVmlkZW9QYXVzZSgpIHsNCiAgICAgICAgdG9nZ2xlUGxheVBhdXNlQnV0dG9uKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uVm9sdW1lQ2hhbmdlKCkgew0KICAgICAgICBsZXQgY2xhc3NOYW1lID0gJ3VubXV0ZWQnOyAvLyBkZWZhdWx0IHZhbHVlDQogICAgICAgIHZvbHVtZUNvbnRyb2xWYWx1ZS5zdHlsZS53aWR0aCA9ICFfdmlkZW8ubXV0ZWQgPyBfdmlkZW8udm9sdW1lICogMTAwICsgJyUnIDogJzAnOw0KICAgICAgICAvLyBjaGFuZ2UgY2xhc3NOYW1lIHRvIG11dGVkDQogICAgICAgIGlmIChfdmlkZW8udm9sdW1lID09PSAwIHx8IF92aWRlby5tdXRlZCkgew0KICAgICAgICAgICAgY2xhc3NOYW1lID0gJ211dGVkJzsNCiAgICAgICAgfQ0KICAgICAgICBbdm9sdW1lQ29udHJvbFRvZ2dsZSwgdm9sdW1lVG9nZ2xlQnV0dG9uXS5mb3JFYWNoKGVsID0+IGVsLmNsYXNzTmFtZSA9IGNsYXNzTmFtZSk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uQ2xpY2soZXZlbnQpIHsNCiAgICAgICAgY29uc3QgY2xpY2tPblBsYXlQYXVzZUJ1dHRvbiA9IGV2ZW50LnRhcmdldCAhPT0gZXZlbnQuY3VycmVudFRhcmdldDsNCiAgICAgICAgaWYgKCFfc2V0dGluZ3MuY29udHJvbHMgJiYgIV9zZXR0aW5ncy5hdXRvcGxheSAmJiBjbGlja09uUGxheVBhdXNlQnV0dG9uKSB7DQogICAgICAgICAgICBpZiAoX3ZpZGVvLnBhdXNlZCkgew0KICAgICAgICAgICAgICAgIHRvZ2dsZU11dGUoZmFsc2UpOw0KICAgICAgICAgICAgICAgIHBsYXlWaWRlbyh0cnVlKTsNCiAgICAgICAgICAgICAgICB1c2VySW5pdGlhdGVkUGF1c2UgPSBmYWxzZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgICAgIHBhdXNlVmlkZW8oKTsNCiAgICAgICAgICAgICAgICB1c2VySW5pdGlhdGVkUGF1c2UgPSB0cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGVsc2Ugew0KICAgICAgICAgICAgQ3JlYXRpdmUub3BlbihldmVudCwgdW5kZWZpbmVkKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICAvKg0KICAgICoqIFZpZGVvIGNvbnRyb2xzDQogICAgKi8NCiAgICBsZXQgdm9sdW1lRHJhZyA9IGZhbHNlOw0KICAgIGxldCB0aW1lRHJhZyA9IGZhbHNlOw0KICAgIGZ1bmN0aW9uIG9uVG9nZ2xlUGxheVBhdXNlKCkgew0KICAgICAgICBpZiAoX3ZpZGVvLnBhdXNlZCB8fCBfdmlkZW8uZW5kZWQpIHsNCiAgICAgICAgICAgIHBsYXlWaWRlbygpOw0KICAgICAgICAgICAgdXNlckluaXRpYXRlZFBhdXNlID0gZmFsc2U7DQogICAgICAgIH0NCiAgICAgICAgZWxzZSB7DQogICAgICAgICAgICBwYXVzZVZpZGVvKCk7DQogICAgICAgICAgICB1c2VySW5pdGlhdGVkUGF1c2UgPSB0cnVlOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uVm9sdW1lRHJhZyhlKSB7DQogICAgICAgIGlmIChlLmJ1dHRvbiAhPSAwKQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB2b2x1bWVEcmFnID0gdHJ1ZTsNCiAgICAgICAgdXBkYXRlVm9sdW1lKGUucGFnZVgpOw0KICAgIH0NCiAgICA7DQogICAgZnVuY3Rpb24gdXBkYXRlVm9sdW1lKHgpIHsNCiAgICAgICAgY29uc3QgbWF4Vm9sdW1lID0gMTsNCiAgICAgICAgY29uc3QgcG9zaXRpb24gPSB4IC0gdm9sdW1lQ29udGFpbmVyLm9mZnNldExlZnQgLSB2b2x1bWVDb250cm9sLm9mZnNldExlZnQgLSAyOw0KICAgICAgICAvLyBjbGFtcCBwZXJjZW50YWdlIHRvIGEgdmFsdWUgZnJvbSAwIHRvIDEwMA0KICAgICAgICBjb25zdCBwZXJjZW50YWdlID0gTWF0aC5tYXgoMCwgTWF0aC5taW4oMTAwICogcG9zaXRpb24gLyB2b2x1bWVDb250cm9sLm9mZnNldFdpZHRoLCAxMDApKTsNCiAgICAgICAgc2V0Vm9sdW1lKG1heFZvbHVtZSAqIHBlcmNlbnRhZ2UgLyAxMDApOw0KICAgICAgICB2b2x1bWUgPSBfdmlkZW8udm9sdW1lOw0KICAgICAgICBfdmlkZW8ubXV0ZWQgPSBmYWxzZTsNCiAgICAgICAgb25Wb2x1bWVDaGFuZ2UoKTsNCiAgICB9DQogICAgZnVuY3Rpb24gb25Wb2x1bWVUb2dnbGUoKSB7DQogICAgICAgIF92aWRlby5tdXRlZCA9ICFfdmlkZW8ubXV0ZWQ7DQogICAgICAgIG9uVm9sdW1lQ2hhbmdlKCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uVGltZVNlZWtEcmFnKGUpIHsNCiAgICAgICAgaWYgKGUuYnV0dG9uICE9IDApDQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIHRpbWVEcmFnID0gdHJ1ZTsNCiAgICAgICAgdXBkYXRlUHJvZ3Jlc3NiYXIoZS5wYWdlWCk7DQogICAgfQ0KICAgIGZ1bmN0aW9uIG9uQ29udHJvbHNNb3VzZVVwKGUpIHsNCiAgICAgICAgaWYgKHZvbHVtZURyYWcpIHsNCiAgICAgICAgICAgIHZvbHVtZURyYWcgPSBmYWxzZTsNCiAgICAgICAgICAgIHVwZGF0ZVZvbHVtZShlLnBhZ2VYKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGltZURyYWcpIHsNCiAgICAgICAgICAgIHRpbWVEcmFnID0gZmFsc2U7DQogICAgICAgICAgICB1cGRhdGVQcm9ncmVzc2JhcihlLnBhZ2VYKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBmdW5jdGlvbiBvbkNvbnRyb2xzTW91c2VEb3duKGUpIHsNCiAgICAgICAgaWYgKHZvbHVtZURyYWcpIHsNCiAgICAgICAgICAgIHVwZGF0ZVZvbHVtZShlLnBhZ2VYKTsNCiAgICAgICAgfQ0KICAgICAgICBpZiAodGltZURyYWcpIHsNCiAgICAgICAgICAgIHVwZGF0ZVByb2dyZXNzYmFyKGUucGFnZVgpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzYmFyKHgpIHsNCiAgICAgICAgY29uc3QgbWF4ZHVyYXRpb24gPSBfdmlkZW8uZHVyYXRpb247DQogICAgICAgIGNvbnN0IHBvc2l0aW9uID0geCAtIHByb2dyZXNzLm9mZnNldExlZnQ7DQogICAgICAgIC8vIGNsYW1wIHBlcmNlbnRhZ2UgdG8gYSB2YWx1ZSBmcm9tIDAgdG8gMTAwDQogICAgICAgIGNvbnN0IHBlcmNlbnRhZ2UgPSBNYXRoLm1heCgwLCBNYXRoLm1pbigxMDAgKiBwb3NpdGlvbiAvIHByb2dyZXNzLm9mZnNldFdpZHRoLCAxMDApKTsNCiAgICAgICAgdGltZUJhci5zdHlsZS53aWR0aCA9IHBlcmNlbnRhZ2UgKyAnJSc7DQogICAgICAgIF92aWRlby5jdXJyZW50VGltZSA9IG1heGR1cmF0aW9uICogcGVyY2VudGFnZSAvIDEwMDsNCiAgICB9DQogICAgY29uc3QgZG9jID0gZG9jdW1lbnQ7DQogICAgLy8gRnVsbHNjcmVlbg0KICAgIGNvbnN0IGZ1bGxTY3JlZW5FbmFibGVkID0gISEoZG9jLmZ1bGxzY3JlZW5FbmFibGVkDQogICAgICAgIHx8IGRvYy5tb3pGdWxsU2NyZWVuRW5hYmxlZA0KICAgICAgICB8fCBkb2MubXNGdWxsc2NyZWVuRW5hYmxlZA0KICAgICAgICB8fCBkb2Mud2Via2l0U3VwcG9ydHNGdWxsc2NyZWVuDQogICAgICAgIHx8IGRvYy53ZWJraXRGdWxsc2NyZWVuRW5hYmxlZCk7DQogICAgaWYgKCFmdWxsU2NyZWVuRW5hYmxlZCkgew0KICAgICAgICBmdWxsc2NyZWVuLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7DQogICAgfQ0KICAgIGZ1bmN0aW9uIGhhbmRsZUZ1bGxzY3JlZW4oKSB7DQogICAgICAgIGlmIChpc0Z1bGxTY3JlZW4oKSkgew0KICAgICAgICAgICAgaWYgKGRvY3VtZW50LmV4aXRGdWxsc2NyZWVuKSB7DQogICAgICAgICAgICAgICAgZG9jdW1lbnQuZXhpdEZ1bGxzY3JlZW4oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGRvYy5tb3pDYW5jZWxGdWxsU2NyZWVuKSB7DQogICAgICAgICAgICAgICAgZG9jLm1vekNhbmNlbEZ1bGxTY3JlZW4oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGRvYy53ZWJraXRDYW5jZWxGdWxsU2NyZWVuKSB7DQogICAgICAgICAgICAgICAgZG9jLndlYmtpdENhbmNlbEZ1bGxTY3JlZW4oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGVsc2UgaWYgKGRvYy5tc0V4aXRGdWxsc2NyZWVuKSB7DQogICAgICAgICAgICAgICAgZG9jLm1zRXhpdEZ1bGxzY3JlZW4oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNldEZ1bGxzY3JlZW5EYXRhKGZhbHNlKTsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIGNvbnN0IHZjID0gdmlkZW9Db250YWluZXI7DQogICAgICAgICAgICBpZiAodmMucmVxdWVzdEZ1bGxzY3JlZW4pIHsNCiAgICAgICAgICAgICAgICB2Yy5yZXF1ZXN0RnVsbHNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAodmMubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHsNCiAgICAgICAgICAgICAgICB2Yy5tb3pSZXF1ZXN0RnVsbFNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAodmMud2Via2l0UmVxdWVzdEZ1bGxTY3JlZW4pIHsNCiAgICAgICAgICAgICAgICB2Yy53ZWJraXRSZXF1ZXN0RnVsbFNjcmVlbigpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgZWxzZSBpZiAodmMubXNSZXF1ZXN0RnVsbHNjcmVlbikgew0KICAgICAgICAgICAgICAgIHZjLm1zUmVxdWVzdEZ1bGxzY3JlZW4oKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHNldEZ1bGxzY3JlZW5EYXRhKHRydWUpOw0KICAgICAgICB9DQogICAgfQ0KICAgIGZ1bmN0aW9uIGlzRnVsbFNjcmVlbigpIHsNCiAgICAgICAgcmV0dXJuICEhKGRvYy5mdWxsU2NyZWVuIHx8IGRvYy53ZWJraXRJc0Z1bGxTY3JlZW4gfHwgZG9jLm1vekZ1bGxTY3JlZW4gfHwgZG9jLm1zRnVsbHNjcmVlbkVsZW1lbnQgfHwgZG9jLmZ1bGxzY3JlZW5FbGVtZW50KTsNCiAgICB9DQogICAgZnVuY3Rpb24gc2V0RnVsbHNjcmVlbkRhdGEoc3RhdGUpIHsNCiAgICAgICAgdmlkZW9Db250YWluZXIuc2V0QXR0cmlidXRlKCdkYXRhLWZ1bGxzY3JlZW4nLCAnJyArICEhc3RhdGUpOw0KICAgICAgICBzdGF0ZSA/IHZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Z1bGxzY3JlZW4nKSA6IHZpZGVvQ29udGFpbmVyLmNsYXNzTGlzdC5yZW1vdmUoJ2Z1bGxzY3JlZW4nKTsNCiAgICB9DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZnVsbHNjcmVlbmNoYW5nZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEoISEoZG9jLmZ1bGxTY3JlZW4gfHwgZG9jLmZ1bGxzY3JlZW5FbGVtZW50KSk7DQogICAgfSk7DQogICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignd2Via2l0ZnVsbHNjcmVlbmNoYW5nZScsIGZ1bmN0aW9uICgpIHsNCiAgICAgICAgc2V0RnVsbHNjcmVlbkRhdGEoISFkb2Mud2Via2l0SXNGdWxsU2NyZWVuKTsNCiAgICB9KTsNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3pmdWxsc2NyZWVuY2hhbmdlJywgZnVuY3Rpb24gKCkgew0KICAgICAgICBzZXRGdWxsc2NyZWVuRGF0YSghIWRvYy5tb3pGdWxsU2NyZWVuKTsNCiAgICB9KTsNCiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtc2Z1bGxzY3JlZW5jaGFuZ2UnLCBmdW5jdGlvbiAoKSB7DQogICAgICAgIHNldEZ1bGxzY3JlZW5EYXRhKCEhZG9jLm1zRnVsbHNjcmVlbkVsZW1lbnQpOw0KICAgIH0pOw0KICAgIC8qDQogICAgKiogVXRpbHMNCiAgICAqLw0KICAgIGZ1bmN0aW9uIGdldERldmljZUluZm8oKSB7DQogICAgICAgIGNvbnN0IGlzTW9iaWxlID0gL0FuZHJvaWR8d2ViT1N8U2Ftc3VuZ0Jyb3dzZXJ8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpOw0KICAgICAgICBjb25zdCBpc0FuZHJvaWQgPSB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLmluZGV4T2YoImFuZHJvaWQiKSA+IC0xOw0KICAgICAgICBjb25zdCBpc1NhbXN1bmdCcm93c2VyID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvU2Ftc3VuZ0Jyb3dzZXIvaSkgfHwgZmFsc2U7DQogICAgICAgIGNvbnN0IGlzU2FmYXJpID0gL14oKD8hY2hyb21lfGFuZHJvaWQpLikqc2FmYXJpL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTsNCiAgICAgICAgY29uc3QgaXNJb3MgPSAoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgaWYgKHdpbmRvdy5NU1N0cmVhbSkgew0KICAgICAgICAgICAgICAgIHJldHVybiAwOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgbGV0IG1hdGNoID0gKG5hdmlnYXRvci5hcHBWZXJzaW9uKS5tYXRjaCgvT1MgKFxkKylfKFxkKylfPyhcZCspPy8pOw0KICAgICAgICAgICAgbGV0IHZlcnNpb247DQogICAgICAgICAgICBpZiAobWF0Y2ggIT09IHVuZGVmaW5lZCAmJiBtYXRjaCAhPT0gbnVsbCkgew0KICAgICAgICAgICAgICAgIHZlcnNpb24gPSBbDQogICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG1hdGNoWzFdLCAxMCksDQogICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG1hdGNoWzJdLCAxMCksDQogICAgICAgICAgICAgICAgICAgIHBhcnNlSW50KG1hdGNoWzNdIHx8IDAsIDEwKQ0KICAgICAgICAgICAgICAgIF07DQogICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlRmxvYXQodmVyc2lvbi5qb2luKCcuJykpOw0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgcmV0dXJuIDA7DQogICAgICAgIH0pKCk7DQogICAgICAgIGNvbnN0IGNhblBsYXlJbmxpbmUgPSAoZnVuY3Rpb24gKCkgew0KICAgICAgICAgICAgY29uc3QgdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3ZpZGVvJyk7DQogICAgICAgICAgICB2Lm11dGVkID0gdHJ1ZTsNCiAgICAgICAgICAgIHYucGxheSgpOw0KICAgICAgICAgICAgcmV0dXJuICF2LnBhdXNlZCB8fCAoJ3BsYXlzSW5saW5lJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd2aWRlbycpKTsNCiAgICAgICAgfSkoKTsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIGlzTW9iaWxlOiBpc01vYmlsZSwNCiAgICAgICAgICAgIGlzQW5kcm9pZDogaXNBbmRyb2lkLA0KICAgICAgICAgICAgaXNTYW1zdW5nQnJvd3NlcjogaXNTYW1zdW5nQnJvd3NlciwNCiAgICAgICAgICAgIGlzU2FmYXJpOiBpc1NhZmFyaSwNCiAgICAgICAgICAgIGlzSW9zOiBpc0lvcywNCiAgICAgICAgICAgIGNhblBsYXlJbmxpbmU6IGNhblBsYXlJbmxpbmUNCiAgICAgICAgfTsNCiAgICB9DQogICAgZnVuY3Rpb24gZGVzZXJpYWxpemVTZXR0aW5ncyhzZXR0aW5ncykgew0KICAgICAgICBjb25zdCBzID0ge307DQogICAgICAgIC8vIFZpZGVvIHNldHRpbmdzL3Byb3BlcnRpZXMNCiAgICAgICAgcy51cmwgPSBzZXR0aW5ncy51cmw7DQogICAgICAgIHMuYXV0b3BsYXkgPSBzZXR0aW5ncy5hdXRvcGxheTsNCiAgICAgICAgcy5sb29wID0gc2V0dGluZ3MubG9vcDsNCiAgICAgICAgcy5jb250cm9scyA9IHNldHRpbmdzLmNvbnRyb2xzOw0KICAgICAgICBzLnZvbHVtZSA9IHNldHRpbmdzLnZvbHVtZSB8fCAwOw0KICAgICAgICBzLnN0YXJ0VGltZSA9IHNldHRpbmdzLnN0YXJ0VGltZSB8fCAwOw0KICAgICAgICBzLmVuZFRpbWUgPSBzZXR0aW5ncy5lbmRUaW1lOw0KICAgICAgICBzLnBsYXliYWNrUmF0ZSA9IChwYXJzZUZsb2F0KHNldHRpbmdzLnBsYXliYWNrUmF0ZSkgfHwgMSk7DQogICAgICAgIHMucG9zdGVyID0gZ2V0QWRqdXN0ZWRVcmwoc2V0dGluZ3MucG9zdGVyIHx8ICcnKTsNCiAgICAgICAgLy8gU3BlY2lhbCBzZXR0aW5ncw0KICAgICAgICBzLnBsYXllckJhY2tncm91bmQgPSBzZXR0aW5ncy5wbGF5ZXJCYWNrZ3JvdW5kOw0KICAgICAgICBzLmdyYXlTY2FsZSA9IHNldHRpbmdzLmdyYXlTY2FsZTsNCiAgICAgICAgcy5sb29wV2l0aEJhbm5lciA9IHNldHRpbmdzLmxvb3BXaXRoQmFubmVyOw0KICAgICAgICBzLnN0b3BXaXRoQ3JlYXRpdmUgPSBzZXR0aW5ncy5zdG9wV2l0aENyZWF0aXZlOw0KICAgICAgICBzLmJhY2tncm91bmRGaWxsID0gc2V0dGluZ3MuYmFja2dyb3VuZEZpbGw7DQogICAgICAgIHMuZmFsbGJhY2tJbWFnZSA9IGdldEFkanVzdGVkVXJsKHNldHRpbmdzLmZhbGxiYWNrSW1hZ2UgfHwgJycpOw0KICAgICAgICBzLnBsYXlQYXVzZUJ1dHRvblNpemUgPSBzZXR0aW5ncy5wbGF5UGF1c2VCdXR0b25TaXplIHx8IDQwOw0KICAgICAgICBzLnZvbHVtZVRvZ2dsZUJ1dHRvbiA9IHNldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvbjsNCiAgICAgICAgcy52b2x1bWVUb2dnbGVCdXR0b25TaXplID0gc2V0dGluZ3Mudm9sdW1lVG9nZ2xlQnV0dG9uU2l6ZTsNCiAgICAgICAgcy52b2x1bWVUb2dnbGVCdXR0b25Db2xvciA9IHNldHRpbmdzLnZvbHVtZVRvZ2dsZUJ1dHRvbkNvbG9yOw0KICAgICAgICBzLnZvbHVtZVRvZ2dsZUJ1dHRvblBvc2l0aW9uVG9wID0gc2V0dGluZ3Mudm9sdW1lVG9nZ2xlQnV0dG9uUG9zaXRpb25Ub3AgfHwgMDsNCiAgICAgICAgcy52b2x1bWVUb2dnbGVCdXR0b25Qb3NpdGlvbkxlZnQgPSBzZXR0aW5ncy52b2x1bWVUb2dnbGVCdXR0b25Qb3NpdGlvbkxlZnQgfHwgMDsNCiAgICAgICAgcmV0dXJuIHM7DQogICAgfQ0KICAgIGZ1bmN0aW9uIHRvRnJhY3Rpb25zKG4pIHsNCiAgICAgICAgcmV0dXJuIG4gPCAxID8gbg0KICAgICAgICAgICAgOiBuID4gMTAwID8gMQ0KICAgICAgICAgICAgICAgIDogIW4gPyAwDQogICAgICAgICAgICAgICAgICAgIDogbiAvIDEwMDsNCiAgICB9DQogICAgZnVuY3Rpb24gZm9ybWF0VGltZSh0KSB7DQogICAgICAgIHJldHVybiB0ID8gKHQgLSAodCAlPSA2MCkpIC8gNjAgKyAoOS41IDwgdCA/ICc6JyA6ICc6MCcpICsgTWF0aC5yb3VuZCh0KSA6ICcwOjAwJzsNCiAgICB9DQogICAgLyoNCiAgICAqKiBFeHBvc2UNCiAgICAqLw0KICAgIHRoaXMuc2V0VmlkZW9TZXR0aW5ncyA9IHNldFZpZGVvU2V0dGluZ3M7DQogICAgdGhpcy5nZXRWaWRlb1NldHRpbmdzID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gX3NldHRpbmdzOyB9Ow0KICAgIHRoaXMuc2V0RmlsbE9wdGlvbiA9IHNldEZpbGxPcHRpb247DQogICAgdGhpcy5wbGF5ID0gcGxheVZpZGVvOw0KICAgIHRoaXMucmVzdGFydCA9IHJlc3RhcnRWaWRlbzsNCiAgICB0aGlzLnBhdXNlID0gcGF1c2VWaWRlbzsNCiAgICB0aGlzLnN0b3AgPSBzdG9wVmlkZW87DQogICAgdGhpcy5sb2FkVmlkZW8gPSBsb2FkVmlkZW87DQogICAgdGhpcy5zZXRWb2x1bWUgPSBzZXRWb2x1bWU7DQogICAgdGhpcy50b2dnbGVNdXRlID0gdG9nZ2xlTXV0ZTsNCiAgICB0aGlzLnNlZWtUbyA9IHNlZWtUbzsNCiAgICB0aGlzLnZpZGVvID0gX3ZpZGVvOw0KICAgIHRoaXMucG9zdGVyID0gcG9zdGVyOw0KfQ0KZnVuY3Rpb24gVmlkZW9UcmFja2luZyhvcHRpb25zKSB7DQogICAgLyoNCiAgICAqKiAgVGhpcyBtZXRob2QgYnViYmxlcyB1cCBldmVudHMgdG8gdGhlIEJhbm5lci9DdXN0b20gc2NyaXB0DQogICAgKiogIGFuZCBpcyB1c2VkIHRvIHNlbmQgdmlkZW8gdHJhY2tpbmcgZXZlbnRzDQogICAgKi8NCiAgICBsZXQgdXJsID0gb3B0aW9ucy51cmw7DQogICAgbGV0IGZpbGVuYW1lID0gb3B0aW9ucy5maWxlbmFtZTsNCiAgICAvLyBPbmNlIHBlciB2aWV3ID0gT1BWDQogICAgbGV0IGhhc0NvbXBsZXRlZCA9IGZhbHNlOyAvLyBPUFYNCiAgICBsZXQgaXNJbml0ID0gZmFsc2U7IC8vIE9QVg0KICAgIGxldCBzdGFydGVkID0gZmFsc2U7IC8vIE9QVg0KICAgIGxldCByZWFjaGVkRlEgPSBmYWxzZTsgLy8gT1BWDQogICAgbGV0IHJlYWNoZWRNUCA9IGZhbHNlOyAvLyBPUFYNCiAgICBsZXQgcmVhY2hlZFRRID0gZmFsc2U7IC8vIE9QVg0KICAgIC8vIFZpZGVvIGluaXRpYWxpemVkIA0KICAgIHRoaXMuaW5pdCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgaWYgKGlzSW5pdCkNCiAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgaXNJbml0ID0gdHJ1ZTsNCiAgICB9Ow0KICAgIC8vIFZpZGVvIHN0YXJ0ZWQgb3IgcGxheWluZyBmcm9tIGJlZ2lubmluZyBhZ2Fpbg0KICAgIHRoaXMuc3RhcnRlZCA9IGZ1bmN0aW9uICgpIHsNCiAgICAgICAgaWYgKFRpbWVsaW5lLmN1cnJlbnRUaW1lID49IFdpZGdldC50aW1lKSB7DQogICAgICAgICAgICBpZiAoc3RhcnRlZCkNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICBBZC50cmFja0N1c3RvbVByb2dyZXNzRXZlbnQoeyBuYW1lOiAnVmlkZW8gY29tcGxldGlvbicsIGlkOiB1cmwsIGxhYmVsOiBmaWxlbmFtZSwgdmFsdWU6IDAgfSk7DQogICAgICAgICAgICBzdGFydGVkID0gdHJ1ZTsNCiAgICAgICAgfQ0KICAgIH07DQogICAgLy8gVmlkZW8gcmVhY2hlZCB0aGUgRmlyc3QgUXVhcnRpbGUNCiAgICB0aGlzLmZxID0gZnVuY3Rpb24gKCkgew0KICAgICAgICBpZiAocmVhY2hlZEZRIHx8ICFzdGFydGVkKQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBBZC50cmFja0N1c3RvbVByb2dyZXNzRXZlbnQoeyBuYW1lOiAnVmlkZW8gY29tcGxldGlvbicsIGlkOiB1cmwsIGxhYmVsOiBmaWxlbmFtZSwgdmFsdWU6IDAuMjUgfSk7DQogICAgICAgIHJlYWNoZWRGUSA9IHRydWU7DQogICAgfTsNCiAgICAvLyBWaWRlbyByZWFjaGVkIHRoZSBNaWRwb2ludA0KICAgIHRoaXMubXAgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIGlmIChyZWFjaGVkTVApDQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIEFkLnRyYWNrQ3VzdG9tUHJvZ3Jlc3NFdmVudCh7IG5hbWU6ICdWaWRlbyBjb21wbGV0aW9uJywgaWQ6IHVybCwgbGFiZWw6IGZpbGVuYW1lLCB2YWx1ZTogMC41IH0pOw0KICAgICAgICByZWFjaGVkTVAgPSB0cnVlOw0KICAgIH07DQogICAgLy8gVmlkZW8gcmVhY2hlZCB0aGUgVGhpcmQgcXVhcnRpbGUNCiAgICB0aGlzLnRxID0gZnVuY3Rpb24gKCkgew0KICAgICAgICBpZiAocmVhY2hlZFRRKQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICBBZC50cmFja0N1c3RvbVByb2dyZXNzRXZlbnQoeyBuYW1lOiAnVmlkZW8gY29tcGxldGlvbicsIGlkOiB1cmwsIGxhYmVsOiBmaWxlbmFtZSwgdmFsdWU6IDAuNzUgfSk7DQogICAgICAgIHJlYWNoZWRUUSA9IHRydWU7DQogICAgfTsNCiAgICAvLyBWaWRlbyBoYXMgY29tcGxldGVkDQogICAgdGhpcy5jb21wbGV0ZWQgPSBmdW5jdGlvbiAoKSB7DQogICAgICAgIGlmIChoYXNDb21wbGV0ZWQpDQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIEFkLnRyYWNrQ3VzdG9tUHJvZ3Jlc3NFdmVudCh7IG5hbWU6ICdWaWRlbyBjb21wbGV0aW9uJywgaWQ6IHVybCwgbGFiZWw6IGZpbGVuYW1lLCB2YWx1ZTogMSB9KTsNCiAgICAgICAgaGFzQ29tcGxldGVkID0gdHJ1ZTsNCiAgICB9Ow0KfQ0KZnVuY3Rpb24gZ2V0QWRqdXN0ZWRVcmwodGV4dCkgew0KICAgIGlmICh0ZXh0KSB7DQogICAgICAgIGxldCB1cmwgPSB0ZXh0DQogICAgICAgICAgICAucmVwbGFjZSgvdmlkZW8uYmFubmVyZmxvdy5jb20vZywgJ2MuYmFubmVyZmxvdy5uZXQvYmYtdmlkZW9zJykNCiAgICAgICAgICAgIC5yZXBsYWNlKC8oXHJcbnxcbnxccnxccykvZ20sICcnKTsNCiAgICAgICAgaWYgKEFkLmN1c3RvbURvbWFpbikgew0KICAgICAgICAgICAgLy8gUmVtb3ZlIGh0dHB8cyByZXBsYWNlbWVudCB3aGVuIEFkLmN1c3RvbURvbWFpbiBvbmx5IGdpdmVzIHRoZSBkb21haW4NCiAgICAgICAgICAgIHVybCA9IHVybC5yZXBsYWNlKCdjLmJhbm5lcmZsb3cubmV0JywgQWQuY3VzdG9tRG9tYWluLnJlcGxhY2UoLyhodHRwfGh0dHBzKTpcL1wvLywgJycpKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4gdXJsOw0KICAgIH0NCn0NCmZ1bmN0aW9uIHRvUmVsYXRpdmVUaW1lKHRpbWUpIHsNCiAgICBpZiAodHlwZW9mIHRpbWUgPT09ICdzdHJpbmcnKSB7DQogICAgICAgIHRpbWUgPSBOdW1iZXIodGltZSk7DQogICAgfQ0KICAgIGlmIChpc05hTih0aW1lKSB8fCB0eXBlb2YgdGltZSAhPT0gJ251bWJlcicpIHsNCiAgICAgICAgdGltZSA9IDA7DQogICAgfQ0KICAgIHJldHVybiBNYXRoLmFicyh2aWRlb1NldHRpbmdzLnN0YXJ0VGltZSArIHRpbWUgLSBXaWRnZXQudGltZSk7DQp9DQpUaW1lbGluZS5vbihUaW1lbGluZUV2ZW50LlNlZWssIHRpbWUgPT4gew0KICAgIGlmICh2aWRlbykgew0KICAgICAgICB2aWRlby5zZWVrVG8odG9SZWxhdGl2ZVRpbWUodGltZSkpOw0KICAgIH0NCn0pOw0KVGltZWxpbmUub24oVGltZWxpbmVFdmVudC5QbGF5LCB0aW1lID0+IHsNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgaWYgKHZpZGVvKSB7DQogICAgICAgICAgICB2aWRlby5wb3N0ZXIuc3R5bGUuc2V0UHJvcGVydHkoImRpc3BsYXkiLCAibm9uZSIsICJpbXBvcnRhbnQiKTsNCiAgICAgICAgICAgIGlmICh2aWRlby5nZXRWaWRlb1NldHRpbmdzKCkuYXV0b3BsYXkgJiYgQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdkZXNpZ24tdmlldycgJiYgKHRpbWUgPj0gV2lkZ2V0LnRpbWUgJiYgdGltZSA8IFdpZGdldC5kdXJhdGlvbikpIHsNCiAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCk7DQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdjcmVhdGl2ZScgJiYgIXVzZXJJbml0aWF0ZWRQYXVzZSkgew0KICAgICAgICAgICAgICAgIHZpZGVvLnBvc3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsICJub25lIiwgImltcG9ydGFudCIpOw0KICAgICAgICAgICAgICAgIHZpZGVvLnBsYXkoKTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfQ0KICAgIH0sIDApOw0KfSk7DQpUaW1lbGluZS5vbihUaW1lbGluZUV2ZW50LlBhdXNlLCB0aW1lID0+IHsNCiAgICBpZiAodmlkZW8pIHsNCiAgICAgICAgdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnKSB7DQogICAgICAgICAgICB2aWRlby50b2dnbGVNdXRlKHRydWUpOw0KICAgICAgICAgICAgdXNlckluaXRpYXRlZFBhdXNlID0gZmFsc2U7DQogICAgICAgICAgICB2aWRlby5zZWVrVG8oTWF0aC5hYnModGltZSAtIFdpZGdldC50aW1lKSk7DQogICAgICAgIH0NCiAgICB9DQp9KTsNCldpZGdldC5vbihXaWRnZXRFdmVudC5SZXNpemUsICgpID0+IHsNCiAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgaWYgKHZpZGVvICYmIHZpZGVvU2V0dGluZ3MudXJsKSB7DQogICAgICAgICAgICB2aWRlby5zZXRGaWxsT3B0aW9uKCk7DQogICAgICAgIH0NCiAgICB9LCAwKTsNCn0pOw0KV2lkZ2V0Lm9uKFdpZGdldEV2ZW50LlByb3BlcnR5Q2hhbmdlZCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgIHZpZGVvRWxlbS5zdHlsZS5ib3JkZXJSYWRpdXMgPSBXaWRnZXQucHJvcGVydGllcy5yb3VuZENvcm5lcnMgKyAncHgnOw0KICAgIGZlZWRJdGVyYXRpb25JbmRleCA9IE1hdGgubWF4KDAsIFdpZGdldC5wcm9wZXJ0aWVzLmZlZWRJbmRleCAtIDEpOw0KICAgIGNvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gJzEnOw0KICAgIHlpZWxkIHNldFNldHRpbmdzKCk7DQogICAgbGV0IHVybDsNCiAgICBpZiAoV2lkZ2V0LnByb3BlcnRpZXMudXNlRmVlZCAmJiBmZWVkVXJsKSB7DQogICAgICAgIHVybCA9IGZlZWRVcmw7DQogICAgfQ0KICAgIGVsc2UgaWYgKFdpZGdldC5wcm9wZXJ0aWVzLnVybCkgew0KICAgICAgICB1cmwgPSBXaWRnZXQucHJvcGVydGllcy51cmw7DQogICAgfQ0KICAgIGlmICghdXJsKSB7DQogICAgICAgIGluc3RydWN0aW9ucy5jbGFzc0xpc3QuYWRkKCdzaG93Jyk7DQogICAgICAgIHJldHVybjsNCiAgICB9DQogICAgZWxzZSB7DQogICAgICAgIGluc3RydWN0aW9ucy5jbGFzc0xpc3QucmVtb3ZlKCdzaG93Jyk7DQogICAgfQ0KICAgIGlmICghdmlkZW8pIHsNCiAgICAgICAgY3JlYXRlVmlkZW8oKTsNCiAgICB9DQogICAgLyogaWYgKHVybCA9PT0gdmlkZW8uZ2V0VmlkZW9TZXR0aW5ncygpLnVybCkgew0KICAgICAgICBpbnN0cnVjdGlvbnMuY2xhc3NMaXN0LnJlbW92ZSgnc2hvdycpOw0KICAgIH0gKi8NCiAgICBpZiAodmlkZW8gJiYgdXJsICE9PSB2aWRlby5nZXRWaWRlb1NldHRpbmdzKCkudXJsKSB7DQogICAgICAgIHZpZGVvLmxvYWRWaWRlbyhzdHJpcCh1cmwpKTsNCiAgICB9DQogICAgaWYgKHZpZGVvICYmIHZpZGVvU2V0dGluZ3MudXJsKSB7DQogICAgICAgIHZpZGVvLnNldFZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncyk7DQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2Rlc2lnbi12aWV3Jykgew0KICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgfQ0KICAgIH0NCn0pKTsNCldpZGdldC5vbihXaWRnZXRFdmVudC5BbmltYXRpb25TdGFydCwgKCkgPT4gew0KICAgIGlmICh2aWRlbyAmJiAhaGFzU3RvcHBlZCkgew0KICAgICAgICBpZiAodmlkZW8uZ2V0VmlkZW9TZXR0aW5ncygpLmF1dG9wbGF5KSB7DQogICAgICAgICAgICBpZiAoZmlyc3RQbGF5VGhyb3VnaCAmJiBUaW1lbGluZS5pc1BsYXlpbmcpIHsNCiAgICAgICAgICAgICAgICBpZiAoV2lkZ2V0LnByb3BlcnRpZXMubG9vcFdpdGhCYW5uZXIgfHwgZmlyc3RQbGF5VGhyb3VnaCkgew0KICAgICAgICAgICAgICAgICAgICB2aWRlby5zZWVrVG8oV2lkZ2V0LnByb3BlcnRpZXMuc3RhcnRUaW1lKTsNCiAgICAgICAgICAgICAgICAgICAgZmlyc3RQbGF5VGhyb3VnaCA9IGZhbHNlOw0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB2aWRlby5wbGF5KCk7DQogICAgICAgICAgICAgICAgaWYgKENyZWF0aXZlLmVudmlyb25tZW50ID09PSAnZGVzaWduLXZpZXcnKSB7DQogICAgICAgICAgICAgICAgICAgIGZpcnN0UGxheVRocm91Z2ggPSBmYWxzZTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0NCiAgICAgICAgaWYgKHZpZGVvLmdldFZpZGVvU2V0dGluZ3MoKS5sb29wV2l0aEJhbm5lciAmJiAhdXNlckluaXRpYXRlZFBhdXNlKSB7DQogICAgICAgICAgICBpZiAoVGltZWxpbmUuaXNQbGF5aW5nKSB7DQogICAgICAgICAgICAgICAgdmlkZW8uc2Vla1RvKFdpZGdldC5wcm9wZXJ0aWVzLnN0YXJ0VGltZSk7DQogICAgICAgICAgICAgICAgdmlkZW8ucGxheSgpOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9DQogICAgICAgIGlmIChDcmVhdGl2ZS5lbnZpcm9ubWVudCA9PT0gJ2ltYWdlJykgew0KICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgfQ0KICAgIH0NCiAgICBpZiAodmlkZW8gJiYgIXZpZGVvLmdldFZpZGVvU2V0dGluZ3MoKS5hdXRvcGxheSkgew0KICAgICAgICBpZiAoVGltZWxpbmUuZHVyYXRpb24gIT09IFdpZGdldC5kdXJhdGlvbikgew0KICAgICAgICAgICAgdmlkZW8udG9nZ2xlTXV0ZShtdXRlZFN0YXRlKTsNCiAgICAgICAgfQ0KICAgIH0NCn0pOw0KV2lkZ2V0Lm9uKFdpZGdldEV2ZW50LkFuaW1hdGlvbkVuZCwgKCkgPT4gX19hd2FpdGVyKHRoaXMsIHZvaWQgMCwgdm9pZCAwLCBmdW5jdGlvbiogKCkgew0KICAgIGlmIChUaW1lbGluZS5kdXJhdGlvbiAhPT0gV2lkZ2V0LmR1cmF0aW9uKSB7DQogICAgICAgIG11dGVkU3RhdGUgPSB2aWRlby52aWRlby5tdXRlZDsNCiAgICAgICAgdmlkZW8udG9nZ2xlTXV0ZSh0cnVlKTsNCiAgICB9DQogICAgaWYgKCFXaWRnZXQucHJvcGVydGllcy5zdGF0aWNJbmRleCAmJiBXaWRnZXQucHJvcGVydGllcy51c2VGZWVkKSB7DQogICAgICAgIGlmIChmZWVkICYmIGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4ICsgMV0gJiYgZmVlZFtmZWVkSXRlcmF0aW9uSW5kZXggKyAxXVtXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGRdKSB7DQogICAgICAgICAgICBmZWVkSXRlcmF0aW9uSW5kZXgrKzsNCiAgICAgICAgfQ0KICAgICAgICBlbHNlIHsNCiAgICAgICAgICAgIGZlZWRJdGVyYXRpb25JbmRleCA9IDA7DQogICAgICAgIH0NCiAgICAgICAgaWYgKGZlZWQgJiYgZmVlZFtmZWVkSXRlcmF0aW9uSW5kZXhdICYmIGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4XVtXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGRdKSB7DQogICAgICAgICAgICB5aWVsZCBzZXRTZXR0aW5ncygpOw0KICAgICAgICAgICAgZmVlZFVybCA9IGZlZWRbZmVlZEl0ZXJhdGlvbkluZGV4XVtXaWRnZXQucHJvcGVydGllcy5mZWVkRmllbGRdLnZhbHVlOw0KICAgICAgICAgICAgdmlkZW8ubG9hZFZpZGVvKHN0cmlwKGZlZWRVcmwpKTsNCiAgICAgICAgICAgIHZpZGVvLnNldFZpZGVvU2V0dGluZ3ModmlkZW9TZXR0aW5ncyk7DQogICAgICAgIH0NCiAgICB9DQp9KSk7DQpXaWRnZXQub24oV2lkZ2V0RXZlbnQuU2hvd1ByZWxvYWRJbWFnZSwgKCkgPT4gew0KICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICBpZiAoV2lkZ2V0LnByb3BlcnRpZXMuZmFsbGJhY2tJbWFnZSkgew0KICAgICAgICAgICAgdmlkZW8ucGF1c2UoKTsNCiAgICAgICAgICAgIHZpZGVvLnBvc3Rlci5zdHlsZS5zZXRQcm9wZXJ0eSgiZGlzcGxheSIsICJibG9jayIsICJpbXBvcnRhbnQiKTsNCiAgICAgICAgICAgIHZpZGVvLnBvc3Rlci5zdHlsZS5iYWNrZ3JvdW5kSW1hZ2UgPSAndXJsKCcgKyB2aWRlby5nZXRWaWRlb1NldHRpbmdzKCkuZmFsbGJhY2tJbWFnZSArICcpJzsNCiAgICAgICAgfQ0KICAgIH0sIDApOw0KfSk7DQpUaW1lbGluZS5vbihUaW1lbGluZUV2ZW50Lkxvb3AsICgpID0+IHsNCiAgICBpZiAoaGFzU3RvcHBlZCkgew0KICAgICAgICB2aWRlby5wYXVzZSgpOw0KICAgICAgICByZXR1cm47DQogICAgfQ0KfSk7DQpUaW1lbGluZS5vbihUaW1lbGluZUV2ZW50LlN0b3AsICgpID0+IHsNCiAgICBpZiAodmlkZW8gJiYgdmlkZW8uZ2V0VmlkZW9TZXR0aW5ncygpLnN0b3BXaXRoQ3JlYXRpdmUpIHsNCiAgICAgICAgdmlkZW8uc3RvcCgpOw0KICAgICAgICBoYXNTdG9wcGVkID0gdHJ1ZTsNCiAgICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICBpZiAoQ3JlYXRpdmUuZW52aXJvbm1lbnQgPT09ICdjcmVhdGl2ZScpIHsNCiAgICAgICAgdmlkZW8ucGxheSgpOw0KICAgIH0NCn0pOw0K",customProperties:[{label:"Url",name:"url",unit:"text",value:"{\"text\":\"https://video.bannerflow.com/6149860e6f5e9761ca8c6cbf/BF_EZB_336x280-f4245bfec54f42758d4180db17f9bfb8.mp4\",\"styles\":[{\"type\":\"word\",\"length\":90,\"position\":0,\"styleIds\":[]}]}",versionPropertyId:"965cfccf-080a-47fb-a0db-3d06a6be454f"},{label:"Use feed",name:"useFeed",unit:"boolean",value:false,versionPropertyId:undefined},{label:"Feed",name:"dynamicContent",unit:"feed",value:"{\"text\":\"\",\"styles\":[]}",versionPropertyId:"5404fa47-6677-42e7-b080-f5f36ed6ad35"},{label:"Feed field",name:"feedField",unit:"text",value:"{\"text\":\"\",\"styles\":[]}",versionPropertyId:"afa8e7a6-dbc4-404c-8240-4d086aeae74b"},{label:"Feed index",name:"feedIndex",unit:"number",value:1,versionPropertyId:undefined},{label:"Static index",name:"staticIndex",unit:"boolean",value:false,versionPropertyId:undefined},{label:"Autoplay",name:"autoplay",unit:"boolean",value:true,versionPropertyId:undefined},{label:"Controls",name:"controls",unit:"boolean",value:false,versionPropertyId:undefined},{label:"Loop",name:"loop",unit:"boolean",value:false,versionPropertyId:undefined},{label:"Loop with creative",name:"loopWithBanner",unit:"boolean",value:true,versionPropertyId:undefined},{label:"Volume toggle button",name:"volumeToggleButton",unit:"boolean",value:false,versionPropertyId:undefined},{label:"Volume",name:"volume",unit:"number",value:0,versionPropertyId:undefined},{label:"Volume button color",name:"volumeToggleButtonColor",unit:"color",value:"rgba(255,255,255,1)",versionPropertyId:undefined},{label:"Volume button size",name:"volumeToggleButtonSize",unit:"number",value:0,versionPropertyId:undefined},{label:"Volume button left",name:"volumeToggleButtonPositionLeft",unit:"number",value:5,versionPropertyId:undefined},{label:"Volume button top",name:"volumeToggleButtonPositionTop",unit:"number",value:5,versionPropertyId:undefined},{label:"Play/Pause button size",name:"playPauseButtonSize",unit:"number",value:0,versionPropertyId:undefined},{label:"Start time",name:"startTime",unit:"number",value:0,versionPropertyId:undefined},{label:"End time",name:"endTime",unit:"number",value:0,versionPropertyId:undefined},{label:"Preload image",name:"fallbackImage",unit:"image",value:"undefined undefined",versionPropertyId:undefined},{label:"Poster",name:"poster",unit:"image",value:"undefined undefined",versionPropertyId:undefined},{label:"Fill",name:"backgroundFill",unit:"select",value:"W3sidmFsdWUiOiJDb3ZlciIsInNlbGVjdGVkIjp0cnVlfSx7InZhbHVlIjoiQ29udGFpbiIsInNlbGVjdGVkIjpmYWxzZX1d",versionPropertyId:undefined},{label:"Playback rate",name:"playbackRate",unit:"select",value:"W3sidmFsdWUiOiIxIiwic2VsZWN0ZWQiOnRydWV9LHsidmFsdWUiOiIwLjI1Iiwic2VsZWN0ZWQiOmZhbHNlfSx7InZhbHVlIjoiMC41MCIsInNlbGVjdGVkIjpmYWxzZX0seyJ2YWx1ZSI6IjAuNzUiLCJzZWxlY3RlZCI6ZmFsc2V9LHsidmFsdWUiOiIxLjI1Iiwic2VsZWN0ZWQiOmZhbHNlfSx7InZhbHVlIjoiMS41MCIsInNlbGVjdGVkIjpmYWxzZX0seyJ2YWx1ZSI6IjEuNzUiLCJzZWxlY3RlZCI6ZmFsc2V9LHsidmFsdWUiOiIyIiwic2VsZWN0ZWQiOmZhbHNlfV0=",versionPropertyId:undefined},{label:"Gray Scale",name:"grayScale",unit:"number",value:0,versionPropertyId:undefined},{label:"Player background",name:"playerBackground",unit:"color",value:"rgba(0,0,0,0)",versionPropertyId:undefined},{label:"Stop with creative",name:"stopWithCreative",unit:"boolean",value:true,versionPropertyId:undefined},{label:"Round corners",name:"roundCorners",unit:"number",value:0,versionPropertyId:undefined}],},{kind:'text',id:'d0120930-76f9-449d-9d34-64aea044e6a3',time:2,hidden:false,duration:4,animations:[{id:'6ff6066b-b6b1-4d3c-b57c-21d41b31f00f',type:'in',timingFunction:'easeOutExpo',templateId:'slide-in',settings:{direction:{"name":"Direction","value":90}},keyframes:[{id:"cb327d76-3554-4da2-8e25-c0f9f2f3bd80",stateId:"1ee29eff-72b0-4a76-8e18-774652da273a",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"be525e1c-6c5b-4f41-8838-07647f936f00",stateId:undefined,time:0.5,timingFunction:"@timingFunction",value:undefined,duration:0}]},{id:'e5644d64-419f-4678-8de3-f8be7e01abbf',type:'out',timingFunction:'linear',templateId:'fade-out',keyframes:[{id:"1e9e7d9a-371f-47d0-8fe8-807cff91db4f",stateId:undefined,time:3.67,timingFunction:undefined,value:undefined,duration:0},{id:"3d42d6dc-3639-4eaa-86f5-b9c6647dd44a",stateId:"69cf2fa1-1fab-4ca8-ba09-2c7668e1ac25",time:4,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'69cf2fa1-1fab-4ca8-ba09-2c7668e1ac25',opacity:0,},{id:'1ee29eff-72b0-4a76-8e18-774652da273a',x:"@edgePoint(@transition.direction).x",y:"@edgePoint(@transition.direction).y",},],actions:[],x:8,y:38,width:284,height:182,fill:Color.parse('rgba(255,0,0,0)'),radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(255,255,255,1)'),textOverflow:"shrink",verticalAlignment:"middle",horizontalAlignment:"center",maxRows:0,lineHeight:0.8,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,textShadows:[{offsetX:0,offsetY:0,blur:11,color:Color.parse('rgba(0,0,0,0.25)')}],fontSize:33,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"middle",maxRows:0,textOverflow:"shrink",characterSpacing:0,lineHeight:0.8,__fontFamilyId:"",},spans:[{type:"newline",style:{},content:"\n",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"bass",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"player.",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'614c7ad7d865e76c69ae4de5'},{kind:'text',id:'5f64326d-74f0-4caa-a229-ad63635a0c81',time:2,hidden:false,duration:4,animations:[{id:'293b5568-d42c-4ccb-a804-4e931868fbee',type:'in',timingFunction:'easeOutExpo',templateId:'slide-in',settings:{direction:{"name":"Direction","value":270}},keyframes:[{id:"e78ce0a9-3d04-4757-a175-217faa4e54f1",stateId:"994eb0b4-91d4-4d8f-829f-ef5e37f971e0",time:0,timingFunction:undefined,value:undefined,duration:0},{id:"a6866077-5f8f-418d-a8a6-22276fcad2c4",stateId:undefined,time:0.5,timingFunction:"@timingFunction",value:undefined,duration:0}]},{id:'1f746c6f-2377-4ae3-a23a-d2d82a9b39ef',type:'out',timingFunction:'linear',templateId:'fade-out',keyframes:[{id:"e16c4a23-9248-45cf-a1df-8db9e825e30b",stateId:undefined,time:3.67,timingFunction:undefined,value:undefined,duration:0},{id:"be50e202-2644-4956-8c33-49405bacd207",stateId:"5611d6d2-4137-425c-8713-03c9f618a82d",time:4,timingFunction:"@timingFunction",value:undefined,duration:0}]},],states:[{id:'5611d6d2-4137-425c-8713-03c9f618a82d',opacity:0,},{id:'994eb0b4-91d4-4d8f-829f-ef5e37f971e0',x:"@edgePoint(@transition.direction).x",y:"@edgePoint(@transition.direction).y",},],actions:[],x:8,y:38,width:284,height:182,fill:Color.parse('rgba(255,0,0,0)'),radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},textColor:Color.parse('rgba(227,34,35,1)'),textOverflow:"shrink",verticalAlignment:"middle",horizontalAlignment:"center",maxRows:0,lineHeight:0.8,padding:{"top":0,"left":0,"right":0,"bottom":0},characterSpacing:0,uppercase:true,underline:false,strikethrough:false,textShadows:[{offsetX:0,offsetY:0,blur:11,color:Color.parse('rgba(0,0,0,0.25)')}],fontSize:33,characterStyles:new Map([]),content:{kind:0,style:{padding:{"top":0,"left":0,"right":0,"bottom":0},verticalAlignment:"middle",maxRows:0,textOverflow:"shrink",characterSpacing:0,lineHeight:0.8,__fontFamilyId:"",},spans:[{type:"word",style:{},content:"meet",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"your",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"space",style:{},content:" ",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"word",style:{},content:"new",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"newline",style:{},content:"\n",width:0,height:0,lineHeight:0,left:0,attributes:{}},{type:"end",content:"END",width:0,height:0,lineHeight:0,left:0,attributes:{}},],},assetId:'614c7ad7d865e76c69ae4de5'},{kind:'image',id:'a390ccc5-ac93-4001-9c96-7e300ef75fe5',time:0,hidden:false,duration:8,animations:[],states:[],actions:[],x:193,y:186,width:100,height:99,radius:{"type":"joint","topLeft":0,"topRight":0,"bottomRight":0,"bottomLeft":0},originX:0.5,originY:0.5,rotationX:0,rotationY:0,rotationZ:0,scaleX:1,scaleY:1,mirrorX:false,mirrorY:false,opacity:1,filters:{},imageSettings:{x:0.5,y:0.5,quality:85,sizeMode:"fit",highDpi:false},imageAsset:{id:"250647",url:"https://c.bannerflow.net/accounts/toontrack/6149860fb70fa206aaca036c/images/73f67b40-1ca8-4f0c-8379-c09beae8098b.svg",width:259,height:44}}]};return{env,data,preloadAssets};});